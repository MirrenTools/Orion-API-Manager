(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d598d91"],{"0db5":function(t,e,a){"use strict";a.d(e,"k",(function(){return n})),a.d(e,"m",(function(){return r})),a.d(e,"s",(function(){return o})),a.d(e,"e",(function(){return l})),a.d(e,"u",(function(){return s})),a.d(e,"o",(function(){return p})),a.d(e,"n",(function(){return u})),a.d(e,"h",(function(){return c})),a.d(e,"j",(function(){return d})),a.d(e,"r",(function(){return m})),a.d(e,"p",(function(){return v})),a.d(e,"b",(function(){return h})),a.d(e,"a",(function(){return f})),a.d(e,"f",(function(){return b})),a.d(e,"i",(function(){return g})),a.d(e,"l",(function(){return w})),a.d(e,"q",(function(){return y})),a.d(e,"t",(function(){return $})),a.d(e,"d",(function(){return x})),a.d(e,"c",(function(){return _})),a.d(e,"g",(function(){return D}));var i=a("8238");function n(t,e){i["a"].get("/private/project").then(t).catch(e)}function r(t,e,a){i["a"].get("/private/project/"+t).then(e).catch(a)}function o(t,e,a){i["a"].post("/private/project/",t).then(e).catch(a)}function l(t,e,a){i["a"].post("/private/project/copy/"+t).then(e).catch(a)}function s(t,e,a){i["a"].put("/private/project/",t).then(e).catch(a)}function p(t,e,a){i["a"].put("/private/project/moveUp/"+t).then(e).catch(a)}function u(t,e,a){i["a"].put("/private/project/moveDown/"+t).then(e).catch(a)}function c(t,e,a){i["a"].delete("/private/project/"+t).then(e).catch(a)}function d(t,e,a){i["a"].get("/private/project/apiGroup/"+t).then(e).catch(a)}function m(t,e,a){i["a"].post("/private/apiGroup",t).then(e).catch(a)}function v(t,e,a){i["a"].put("/private/apiGroup",t).then(e).catch(a)}function h(t,e,a){i["a"].put("/private/apiGroup/moveUp/"+t).then(e).catch(a)}function f(t,e,a){i["a"].put("/private/apiGroup/moveDown/"+t).then(e).catch(a)}function b(t,e,a){i["a"].delete("/private/apiGroup/"+t).then(e).catch(a)}function g(t,e,a){i["a"].get("/private/apis/"+t).then(e).catch(a)}function w(t,e,a){i["a"].get("/private/api/"+t).then(e).catch(a)}function y(t,e,a){i["a"].post("/private/api",t).then(e).catch(a)}function $(t,e,a){i["a"].put("/private/api",t).then(e).catch(a)}function x(t,e,a){i["a"].put("/private/api/moveUp/"+t).then(e).catch(a)}function _(t,e,a){i["a"].put("/private/api/moveDown/"+t).then(e).catch(a)}function D(t,e,a){i["a"].delete("/private/api/"+t).then(e).catch(a)}},"28a5":function(t,e,a){"use strict";var i=a("aae3"),n=a("cb7c"),r=a("ebd6"),o=a("0390"),l=a("9def"),s=a("5f1b"),p=a("520a"),u=a("79e5"),c=Math.min,d=[].push,m="split",v="length",h="lastIndex",f=4294967295,b=!u((function(){RegExp(f,"y")}));a("214f")("split",2,(function(t,e,a,u){var g;return g="c"=="abbc"[m](/(b)*/)[1]||4!="test"[m](/(?:)/,-1)[v]||2!="ab"[m](/(?:ab)*/)[v]||4!="."[m](/(.?)(.?)/)[v]||"."[m](/()()/)[v]>1||""[m](/.?/)[v]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!i(t))return a.call(n,t,e);var r,o,l,s=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),c=0,m=void 0===e?f:e>>>0,b=new RegExp(t.source,u+"g");while(r=p.call(b,n)){if(o=b[h],o>c&&(s.push(n.slice(c,r.index)),r[v]>1&&r.index<n[v]&&d.apply(s,r.slice(1)),l=r[0][v],c=o,s[v]>=m))break;b[h]===r.index&&b[h]++}return c===n[v]?!l&&b.test("")||s.push(""):s.push(n.slice(c)),s[v]>m?s.slice(0,m):s}:"0"[m](void 0,0)[v]?function(t,e){return void 0===t&&0===e?[]:a.call(this,t,e)}:a,[function(a,i){var n=t(this),r=void 0==a?void 0:a[e];return void 0!==r?r.call(a,n,i):g.call(String(n),a,i)},function(t,e){var i=u(g,t,this,e,g!==a);if(i.done)return i.value;var p=n(t),d=String(this),m=r(p,RegExp),v=p.unicode,h=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(b?"y":"g"),w=new m(b?p:"^(?:"+p.source+")",h),y=void 0===e?f:e>>>0;if(0===y)return[];if(0===d.length)return null===s(w,d)?[d]:[];var $=0,x=0,_=[];while(x<d.length){w.lastIndex=b?x:0;var D,k=s(w,b?d:d.slice(x));if(null===k||(D=c(l(w.lastIndex+(b?0:x)),d.length))===$)x=o(d,x,v);else{if(_.push(d.slice($,x)),_.length===y)return _;for(var R=1;R<=k.length-1;R++)if(_.push(k[R]),_.length===y)return _;x=$=D}}return _.push(d.slice($)),_}]}))},"2caf":function(t,e,a){var i=a("5ca1");i(i.S,"Array",{isArray:a("1169")})},ba04:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{width:"98%","max-width":"1240px",padding:"10px 0",margin:"auto",display:"flex","align-items":"center"}},[a("div",[a("b",[t._v(t._s(t.$t("ModifyApi")))])])]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.dataLoading,expression:"dataLoading"}],staticStyle:{width:"98%","max-width":"1240px",margin:"0 auto 50px"}},[a("el-form",{ref:"apiForm",attrs:{"label-position":"right","label-width":"120px",model:t.api,rules:t.apiRules}},[a("el-form-item",{attrs:{label:"Method"}},[a("el-select",{attrs:{placeholder:t.$t("Select")},model:{value:t.api.method,callback:function(e){t.$set(t.api,"method",e)},expression:"api.method"}},[a("el-option",{attrs:{value:"get"}},[t._v("get")]),a("el-option",{attrs:{value:"head"}},[t._v("head")]),a("el-option",{attrs:{value:"post"}},[t._v("post")]),a("el-option",{attrs:{value:"put"}},[t._v("put")]),a("el-option",{attrs:{value:"delete"}},[t._v("delete")]),a("el-option",{attrs:{value:"options"}},[t._v("options")]),a("el-option",{attrs:{value:"patch"}},[t._v("patch")]),a("el-option",{attrs:{value:"trace"}},[t._v("trace")]),a("el-option",{attrs:{value:"connect"}},[t._v("connect")]),a("el-option",{attrs:{value:"other"}},[t._v("other")])],1),a("div",{staticStyle:{display:"inline-block","margin-left":"10px"}},[a("span",[t._v(t._s(t.$t("ApiStatus"))+":")]),a("el-radio",{attrs:{label:"false"},model:{value:t.api.deprecated,callback:function(e){t.$set(t.api,"deprecated",e)},expression:"api.deprecated"}},[t._v(t._s(t.$t("InService")))]),a("el-radio",{attrs:{label:"true"},model:{value:t.api.deprecated,callback:function(e){t.$set(t.api,"deprecated",e)},expression:"api.deprecated"}},[t._v(t._s(t.$t("DeprecatedWillDelete")))])],1)],1),a("el-form-item",{attrs:{prop:"path",label:"Path"}},[a("el-input",{attrs:{placeholder:t.$t("EnterPath")},model:{value:t.api.path,callback:function(e){t.$set(t.api,"path",e)},expression:"api.path"}})],1),a("el-form-item",{attrs:{prop:"title",label:t.$t("ApiName")}},[a("el-input",{attrs:{placeholder:t.$t("EnterApiName")},model:{value:t.api.title,callback:function(e){t.$set(t.api,"title",e)},expression:"api.title"}})],1),a("el-form-item",{attrs:{label:t.$t("ApiDescription")}},[a("el-input",{attrs:{type:"textarea",placeholder:t.$t("EnterApiDescription")},model:{value:t.api.description,callback:function(e){t.$set(t.api,"description",e)},expression:"api.description"}})],1),a("el-form-item",{attrs:{label:t.$t("Ranking")}},[a("el-input",{attrs:{type:"number",placeholder:t.$t("EnterRanking")},model:{value:t.api.sorts,callback:function(e){t.$set(t.api,"sorts",e)},expression:"api.sorts"}})],1),a("el-form-item",{attrs:{label:"Consumes"}},[a("el-input",{attrs:{placeholder:t.$t("EnterConsumes")},model:{value:t.api.consumes,callback:function(e){t.$set(t.api,"consumes",e)},expression:"api.consumes"}})],1),a("el-form-item",{attrs:{label:t.$t("Parameters")}},[a("div",[a("el-table",{staticClass:"min-height-table",staticStyle:{width:"100%"},attrs:{data:t.parameters,"row-key":"tableRowkey",border:"","default-expand-all":"","tree-props":{children:"items",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"required",label:t.$t("Required"),width:"80",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:1==e.row.tableRowLevel,expression:"scope.row.tableRowLevel == 1"}],staticStyle:{width:"100%"},model:{value:e.row.required,callback:function(a){t.$set(e.row,"required",a)},expression:"scope.row.required"}})]}}])}),a("el-table-column",{attrs:{prop:"in",label:t.$t("Position"),width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{directives:[{name:"show",rawName:"v-show",value:1==e.row.tableRowLevel,expression:"scope.row.tableRowLevel == 1"}],attrs:{placeholder:"请选择"},model:{value:e.row.in,callback:function(a){t.$set(e.row,"in",a)},expression:"scope.row.in"}},[a("el-option",{attrs:{value:"query"}},[t._v("query")]),a("el-option",{attrs:{value:"body"}},[t._v("body")]),a("el-option",{attrs:{value:"path"}},[t._v("path")]),a("el-option",{attrs:{value:"header"}},[t._v("header")])],1)]}}])}),a("el-table-column",{attrs:{prop:"type",label:t.$t("Type"),width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:t.$t("Select")},model:{value:e.row.type,callback:function(a){t.$set(e.row,"type",a)},expression:"scope.row.type"}},[a("el-option",{attrs:{value:"string"}},[t._v("string")]),a("el-option",{attrs:{value:"int"}},[t._v("int")]),a("el-option",{attrs:{value:"long"}},[t._v("long")]),a("el-option",{attrs:{value:"object"}},[t._v("object")]),a("el-option",{attrs:{value:"array"}},[t._v("array")]),a("el-option",{attrs:{value:"float"}},[t._v("float")]),a("el-option",{attrs:{value:"double"}},[t._v("double")]),a("el-option",{attrs:{value:"number"}},[t._v("number")]),a("el-option",{attrs:{value:"boolean"}},[t._v("boolean")])],1)]}}])}),a("el-table-column",{attrs:{prop:"name",label:t.$t("ParamName"),width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:t.$t("EnterParamName")},model:{value:e.row.name,callback:function(a){t.$set(e.row,"name",a)},expression:"scope.row.name"}})]}}])}),a("el-table-column",{attrs:{prop:"description",label:t.$t("ParamDescription")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{staticStyle:{margin:"5px auto"},attrs:{type:"textarea",autosize:{minRows:1,maxRows:3},placeholder:t.$t("EnterParamDescription")},model:{value:e.row.description,callback:function(a){t.$set(e.row,"description",a)},expression:"scope.row.description"}})]}}])}),a("el-table-column",{attrs:{label:t.$t("Operation"),width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{placement:"left-start",trigger:"click"}},[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.tableColumnMove(e.row,e.row.tableRowkey,0)}}},[t._v(t._s(t.$t("MoveUp")))]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.tableColumnMove(e.row,e.row.tableRowkey,1)}}},[t._v(t._s(t.$t("MoveDown")))]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"boolean"!=e.row.type,expression:"scope.row.type != 'boolean'"}],attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.showParameterEdit(e.row)}}},[t._v(t._s(t.$t("Edit")))]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.tableColumnRemove(e.row)}}},[t._v(t._s(t.$t("Delete")))]),a("el-button",{attrs:{slot:"reference",size:"mini",icon:"el-icon-edit"},slot:"reference"})],1)]}}])})],1),a("div",{staticStyle:{"text-align":"right",margin:"5px 0 3px"}},[a("div",{staticStyle:{"text-align":"right"}},[a("el-button",{on:{click:function(e){return t.addParameter()}}},[t._v(t._s(t.$t("AddParam")))])],1)]),a("div",[a("el-input",{attrs:{type:"textarea",autosize:{minRows:1,maxRows:10},placeholder:t.$t("EnterRequestBody")},model:{value:t.api.body,callback:function(e){t.$set(t.api,"body",e)},expression:"api.body"}})],1)],1)]),a("el-form-item",{attrs:{label:"Produces"}},[a("el-input",{attrs:{placeholder:t.$t("EnterProduces")},model:{value:t.api.produces,callback:function(e){t.$set(t.api,"produces",e)},expression:"api.produces"}})],1),a("el-form-item",{attrs:{label:t.$t("ResponsesResult")}},[a("div",[t._l(t.responses,(function(e,i){return a("div",{key:i,staticStyle:{border:"1px solid #c6e2ff",padding:"5px","margin-bottom":"5px"}},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{width:"10%","min-width":"50px","margin-right":"5px"}},[t._v(t._s(t.$t("Status"))+":")]),a("div",{staticStyle:{width:"30%","margin-right":"5px"}},[a("el-input",{attrs:{placeholder:t.$t("ResponseStatus")},model:{value:e.status,callback:function(a){t.$set(e,"status",a)},expression:"resp.status"}})],1),a("div",{staticStyle:{width:"10%","min-width":"60px","margin-right":"5px"}},[t._v(t._s(t.$t("StatusMsg"))+":")]),a("div",{staticStyle:{width:"100%"}},[a("el-input",{attrs:{placeholder:t.$t("ResponseStatusMsg")},model:{value:e.msg,callback:function(a){t.$set(e,"msg",a)},expression:"resp.msg"}})],1)]),a("div",[t._v(t._s(t.$t("Responses"))+":")]),a("el-table",{staticClass:"min-height-table",staticStyle:{width:"100%"},attrs:{data:e.data,"row-key":"tableRowkey",border:"","default-expand-all":"","tree-props":{children:"items",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"in",label:t.$t("Position"),width:"180",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.tableRowLevel?a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:t.$t("Select")},model:{value:e.row.in,callback:function(a){t.$set(e.row,"in",a)},expression:"scope.row.in"}},[a("el-option",{attrs:{value:"body"}},[t._v("body")]),a("el-option",{attrs:{value:"header"}},[t._v("header")])],1):t._e()]}}],null,!0)}),a("el-table-column",{attrs:{prop:"tableRowLevel",label:t.$t("Level"),width:"60"}}),a("el-table-column",{attrs:{prop:"type",label:t.$t("Type"),width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:t.$t("Select")},model:{value:e.row.type,callback:function(a){t.$set(e.row,"type",a)},expression:"scope.row.type"}},[a("el-option",{attrs:{value:"string"}},[t._v("string")]),a("el-option",{attrs:{value:"int"}},[t._v("int")]),a("el-option",{attrs:{value:"long"}},[t._v("long")]),a("el-option",{attrs:{value:"object"}},[t._v("object")]),a("el-option",{attrs:{value:"array"}},[t._v("array")]),a("el-option",{attrs:{value:"float"}},[t._v("float")]),a("el-option",{attrs:{value:"double"}},[t._v("double")]),a("el-option",{attrs:{value:"number"}},[t._v("number")]),a("el-option",{attrs:{value:"boolean"}},[t._v("boolean")])],1)]}}],null,!0)}),a("el-table-column",{attrs:{prop:"name",label:t.$t("ParamName"),width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:t.$t("EnterParamName")},model:{value:e.row.name,callback:function(a){t.$set(e.row,"name",a)},expression:"scope.row.name"}})]}}],null,!0)}),a("el-table-column",{attrs:{prop:"description",label:t.$t("ParamDescription")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{staticStyle:{margin:"5px auto"},attrs:{type:"textarea",autosize:{minRows:1,maxRows:3},placeholder:t.$t("EnterParamDescription")},model:{value:e.row.description,callback:function(a){t.$set(e.row,"description",a)},expression:"scope.row.description"}})]}}],null,!0)}),a("el-table-column",{attrs:{label:t.$t("Operation"),width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{placement:"left-start",trigger:"click"}},[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.tableColumnMove(e.row,e.row.tableRowkey,0)}}},[t._v(t._s(t.$t("MoveUp")))]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.tableColumnMove(e.row,e.row.tableRowkey,1)}}},[t._v(t._s(t.$t("MoveDown")))]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"object"==e.row.type||"array"==e.row.type,expression:"scope.row.type == 'object' || scope.row.type == 'array'"}],attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.addDataItems(e.row)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.$t("AddParam"))+"\n\t\t\t\t\t\t\t\t\t\t")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.tableColumnRemove(e.row)}}},[t._v(t._s(t.$t("Delete")))]),a("el-button",{attrs:{slot:"reference",size:"mini",icon:"el-icon-edit"},slot:"reference"})],1)]}}],null,!0)})],1),a("div",{staticStyle:{"text-align":"right","padding-top":"3px"}},[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.removeResponseData(i)}}},[t._v(t._s(t.$t("Remove")))]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.addResponseData(e.data)}}},[t._v(t._s(t.$t("AddParam")))])],1)],1)})),a("div",{staticStyle:{"text-align":"right"}},[a("el-button",{on:{click:function(e){return t.addResponse()}}},[t._v(t._s(t.$t("AddMore")))])],1)],2)]),a("el-form-item",{attrs:{label:t.$t("ExtDocsURL")}},[a("el-input",{attrs:{placeholder:t.$t("EnterExtDocsURL")},model:{value:t.api.exDurl,callback:function(e){t.$set(t.api,"exDurl",e)},expression:"api.exDurl"}})],1),a("el-form-item",{attrs:{label:t.$t("ExtDocsDesc")}},[a("el-input",{attrs:{type:"textarea",placeholder:t.$t("EnterExtDocsDesc")},model:{value:t.api.exDdescription,callback:function(e){t.$set(t.api,"exDdescription",e)},expression:"api.exDdescription"}})],1),t.additional.length>0?a("el-form-item",{attrs:{label:t.$t("AdditionalNotes")}},t._l(t.additional,(function(e,i){return a("div",{key:i,staticStyle:{border:"1px solid #CCC",padding:"5px","margin-bottom":"5px"}},[a("el-input",{attrs:{placeholder:t.$t("AdditionalTitle")},model:{value:e.title,callback:function(a){t.$set(e,"title",a)},expression:"add.title"}}),a("el-input",{attrs:{type:"textarea",placeholder:t.$t("AdditionalDescription")},model:{value:e.description,callback:function(a){t.$set(e,"description",a)},expression:"add.description"}}),a("div",{staticStyle:{"text-align":"right","padding-top":"3px"}},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.removeAdditional(i)}}},[t._v(t._s(t.$t("Remove")))])],1)],1)})),0):t._e(),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitUpdateApi()}}},[t._v(t._s(t.$t("Submit")))])],1)],1)],1),a("el-dialog",{staticStyle:{"max-width":"1240px"},attrs:{title:t.$t("Edit"),width:"80%",visible:t.dialogDataEditVisible},on:{"update:visible":function(e){t.dialogDataEditVisible=e}}},[a("el-form",{attrs:{model:t.parameterData,"label-width":"100px"}},[a("el-form-item",{attrs:{label:t.$t("Type")}},[a("el-select",{attrs:{placeholder:t.$t("Select")},model:{value:t.parameterData.type,callback:function(e){t.$set(t.parameterData,"type",e)},expression:"parameterData.type"}},[a("el-option",{attrs:{value:"string"}},[t._v("string")]),a("el-option",{attrs:{value:"int"}},[t._v("int")]),a("el-option",{attrs:{value:"long"}},[t._v("long")]),a("el-option",{attrs:{value:"object"}},[t._v("object")]),a("el-option",{attrs:{value:"array"}},[t._v("array")]),a("el-option",{attrs:{value:"float"}},[t._v("float")]),a("el-option",{attrs:{value:"double"}},[t._v("double")]),a("el-option",{attrs:{value:"number"}},[t._v("number")]),a("el-option",{attrs:{value:"boolean"}},[t._v("boolean")])],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"object"==t.parameterData.type||"array"==t.parameterData.type,expression:"parameterData.type == 'object' || parameterData.type == 'array'"}],attrs:{label:t.$t("ParamDescription")}},[a("el-table",{staticClass:"min-height-table",staticStyle:{width:"100%"},attrs:{data:t.parameterData.items,"row-key":"tableRowkey",border:"","default-expand-all":"","tree-props":{children:"items",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"type",label:t.$t("Type"),align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:t.$t("Select")},model:{value:e.row.type,callback:function(a){t.$set(e.row,"type",a)},expression:"scope.row.type"}},[a("el-option",{attrs:{value:"string"}},[t._v("string")]),a("el-option",{attrs:{value:"int"}},[t._v("int")]),a("el-option",{attrs:{value:"long"}},[t._v("long")]),a("el-option",{attrs:{value:"object"}},[t._v("object")]),a("el-option",{attrs:{value:"array"}},[t._v("array")]),a("el-option",{attrs:{value:"float"}},[t._v("float")]),a("el-option",{attrs:{value:"double"}},[t._v("double")]),a("el-option",{attrs:{value:"number"}},[t._v("number")]),a("el-option",{attrs:{value:"boolean"}},[t._v("boolean")])],1)]}}])}),a("el-table-column",{attrs:{prop:"name",label:t.$t("ParamName")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:t.$t("EnterParamName")},model:{value:e.row.name,callback:function(a){t.$set(e.row,"name",a)},expression:"scope.row.name"}})]}}])}),a("el-table-column",{attrs:{prop:"description",label:t.$t("ParamDescription")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{staticStyle:{margin:"5px auto"},attrs:{type:"textarea",rows:1,placeholder:t.$t("EnterParamDescription")},model:{value:e.row.description,callback:function(a){t.$set(e.row,"description",a)},expression:"scope.row.description"}})]}}])}),a("el-table-column",{attrs:{label:t.$t("Operation"),width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{placement:"left-start",trigger:"click"}},[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.tableColumnMove(e.row,e.row.tableRowkey,0)}}},[t._v(t._s(t.$t("MoveUp")))]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.tableColumnMove(e.row,e.row.tableRowkey,1)}}},[t._v(t._s(t.$t("MoveDown")))]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"object"==e.row.type||"array"==e.row.type,expression:"scope.row.type == 'object' || scope.row.type == 'array'"}],attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.addDataItems(e.row)}}},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.$t("AddParam"))+"\n\t\t\t\t\t\t\t\t")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.tableColumnRemove(e.row)}}},[t._v(t._s(t.$t("Delete")))]),a("el-button",{attrs:{slot:"reference",size:"mini",icon:"el-icon-edit"},slot:"reference"})],1)]}}])})],1),a("div",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.addDataItems(t.parameterData)}}},[t._v(t._s(t.$t("AddParam")))])],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"string"==t.parameterData.type,expression:"parameterData.type == 'string'"}],attrs:{label:t.$t("MaxLength")}},[a("el-input",{attrs:{placeholder:t.$t("MaxLength")},model:{value:t.parameterData.maxLength,callback:function(e){t.$set(t.parameterData,"maxLength",e)},expression:"parameterData.maxLength"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"string"==t.parameterData.type,expression:"parameterData.type == 'string'"}],attrs:{label:t.$t("MinLength")}},[a("el-input",{attrs:{placeholder:t.$t("MinLength")},model:{value:t.parameterData.minLength,callback:function(e){t.$set(t.parameterData,"minLength",e)},expression:"parameterData.minLength"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.isNumber(t.parameterData.type),expression:"isNumber(parameterData.type)"}],attrs:{label:t.$t("Maximum")}},[a("el-input",{attrs:{placeholder:t.$t("Maximum")},model:{value:t.parameterData.maximum,callback:function(e){t.$set(t.parameterData,"maximum",e)},expression:"parameterData.maximum"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.isNumber(t.parameterData.type),expression:"isNumber(parameterData.type)"}],attrs:{label:t.$t("Minimum")}},[a("el-input",{attrs:{placeholder:t.$t("Minimum")},model:{value:t.parameterData.minimum,callback:function(e){t.$set(t.parameterData,"minimum",e)},expression:"parameterData.minimum"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.isCanEnumsOrRegex(t.parameterData.type),expression:"isCanEnumsOrRegex(parameterData.type)"}],attrs:{label:t.$t("Default")}},[a("el-input",{attrs:{placeholder:t.$t("Default")},model:{value:t.parameterData.def,callback:function(e){t.$set(t.parameterData,"def",e)},expression:"parameterData.def"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.isCanEnumsOrRegex(t.parameterData.type),expression:"isCanEnumsOrRegex(parameterData.type)"}],attrs:{label:t.$t("Enums")}},[a("el-input",{attrs:{placeholder:t.$t("EnterEnums")},model:{value:t.parameterData.enums,callback:function(e){t.$set(t.parameterData,"enums",e)},expression:"parameterData.enums"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.isCanEnumsOrRegex(t.parameterData.type),expression:"isCanEnumsOrRegex(parameterData.type)"}],attrs:{label:t.$t("Pattern")}},[a("el-input",{attrs:{placeholder:t.$t("Pattern")},model:{value:t.parameterData.pattern,callback:function(e){t.$set(t.parameterData,"pattern",e)},expression:"parameterData.pattern"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogDataEditVisible=!1}}},[t._v(t._s(t.$t("Cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogDataEditVisible=!1}}},[t._v(t._s(t.$t("Confirm")))])],1)],1)],1)},n=[],r=(a("7f7f"),a("28a5"),a("f559"),a("a481"),a("2caf"),a("0db5")),o={data:function(){return{projectId:"",groupId:"",apiId:"",dataLoading:!0,api:{method:"get"},apiRules:{path:[{required:!0,message:this.$t("EnterPath"),trigger:"blur"}],title:[{required:!0,message:this.$t("EnterApiName"),trigger:"blur"}]},parameters:[],dialogDataEditVisible:!1,parameterData:{},responses:[{status:200,msg:"ok",data:[]}],additional:[]}},created:function(){this.projectId=this.$route.params.pid,this.groupId=this.$route.params.gid,this.apiId=this.$route.params.aid,null!=this.apiId?this.loadApi(this.apiId):this.$message.warning(this.$t("FailedToLoadTheProjectInvalidID"))},methods:{loadApi:function(t){var e=this;null!=t&&""!=t&&(this.dataLoading=!0,Object(r["l"])(t,(function(t){var a=t.data;if(console.log("load API..."),console.log(a),200==a.code){if(null==a.data.apiId||""==a.data.apiId)return void e.$message.error(e.$t("FailedToLoadTheProjectInvalidID"));if(null!=a.data.additional&&""!=a.data.additional&&(a.data.additional=JSON.parse(a.data.additional)),null!=a.data.externalDocs&&""!=a.data.externalDocs&&(a.data.externalDocs=JSON.parse(a.data.externalDocs),null!=a.data.externalDocs.description&&(a.data.exDdescription=a.data.externalDocs.description),null!=a.data.externalDocs.url&&(a.data.exDurl=a.data.externalDocs.url)),null!=a.data.consumes&&""!=a.data.consumes&&(a.data.consumes=JSON.parse(a.data.consumes).join(",")),null!=a.data.produces&&""!=a.data.produces&&(a.data.produces=JSON.parse(a.data.produces).join(",")),null!=a.data.parameters&&""!=a.data.parameters){for(var i=JSON.parse(a.data.parameters),n=0;n<i.length;n++)i[n].tableRowkey=e.getTableRandomRowKey(),i[n].tableRowLevel=1,i[n].required=1==i[n].required||"true"==i[n].required,i[n].ref=i,null!=i[n].items?e.recursionLoadTableData(i[n]):i[n].items=[];e.parameters=i}else e.parameters=[];if(null!=a.data.responses&&""!=a.data.responses){var r=JSON.parse(a.data.responses);r=null!=r&&r.length>0&&(null==r[0].status||null==r[0].data)?[{status:200,msg:"ok",data:r}]:r;for(n=0;n<r.length;n++)for(var o=r[n].data,l=0;l<o.length;l++){var s=o[l];s.tableRowkey=e.getTableRandomRowKey(),s.tableRowLevel=1,s.ref=o,null!=s.items?e.recursionLoadTableData(s):s.items=[]}e.responses=r}else e.responses=[];null!=a.data.additional&&""!=a.data.additional&&(Array.isArray(a.data.additional)?e.additional=a.data.additional:e.additional=JSON.parse(a.data.additional)),e.api=a.data}else e.$message.error(e.$t("FailedToGetGroupInfo")+":"+a.msg);e.dataLoading=!1}),(function(t){e.$message.error(e.$t("FailedToGetGroupInfoSeeConsole")),console.log(t)})))},recursionLoadTableData:function(t){if(null!=t.items&&0!=t.items.length)for(var e=0;e<t.items.length;e++){var a=t.items[e];a.tableRowkey=this.getTableRandomRowKey(),a.tableRowLevel=t.tableRowLevel+1,a.ref=t.items,null!=a.items?this.recursionLoadTableData(a):a.items=[]}},submitUpdateApi:function(){var t=this;this.$refs.apiForm.validate((function(e){if(!e)return t.$message.warning(t.$t("MissingRequiredInformation")),!1;var a={};if(a.apiId=t.apiId,a.groupId=t.groupId,a.method=t.api.method,a.deprecated=t.api.deprecated,a.path=t.api.path.replace(/(\/)+/g,"/"),a.path.startsWith("/")||(a.path="/"+a.path),a.title=t.api.title,null!=t.api.description&&""!=t.api.description&&(a.description=t.api.description),isNaN(t.api.sorts)||(a.sorts=parseInt(t.api.sorts)),null!=t.api.consumes&&""!=t.api.consumes){for(var i=t.api.consumes.split(","),n=[],o=0;o<i.length;o++)","!=i[o]&&""!=i[o]&&n.push(i[o]);n.length>0&&(a.consumes=JSON.stringify(n))}if(null!=t.api.produces&&""!=t.api.produces){i=t.api.produces.split(",");var l=[];for(o=0;o<i.length;o++)","!=i[o]&&""!=i[o]&&l.push(i[o]);l.length>0&&(a.produces=JSON.stringify(l))}if(t.parameters.length>0){var s=[];for(o=0;o<t.parameters.length;o++){var p=t.parameters[o];if(null!=p.name&&""!=p.name){var u={required:p.required,in:p.in,type:p.type,name:p.name,description:p.description};if(null!=p.def&&""!=p.def&&(u.def=p.def),null!=p.minLength&&""!=p.minLength&&(u.minLength=p.minLength),null!=p.maxLength&&""!=p.maxLength&&(u.maxLength=p.maxLength),null!=p.minimum&&""!=p.minimum&&(u.minimum=p.minimum),null!=p.maximum&&""!=p.maximum&&(u.maximum=p.maximum),null!=p.enums&&""!=p.enums){i=p.enums.split(",");var c=[];for(o=0;o<i.length;o++)","!=i[o]&&""!=i[o]&&c.push(i[o]);c.length>0&&(u.enums=JSON.stringify(c))}null!=p.pattern&&""!=p.pattern&&(u.pattern=p.pattern),null!=p.items&&p.items.length>0&&(u.items=[],t.recursionConverter(u.items,p.items)),s.push(u)}}a.parameters=JSON.stringify(s)}if(null!=t.api.body&&""!=t.api.body&&(a.body=t.api.body),t.responses.length>0){for(s=[],o=0;o<t.responses.length;o++){p=t.responses[o];if(null!=p.status&&""!=p.status||null!=p.data&&0!=p.data.length){u={status:p.status,msg:p.msg,data:[]};for(var d=0;d<p.data.length;d++){var m=p.data[d];if(null!=m.name&&""!=m.name){var v={type:m.type,in:m.in,name:m.name,description:m.description};null!=m.items&&m.items.length>0&&(v.items=[],t.recursionConverter(v.items,m.items)),u.data.push(v)}}s.push(u)}}a.responses=JSON.stringify(s)}var h=null;null!=t.api.exDdescription&&(h={description:t.api.exDdescription}),null!=t.api.exDurl&&(null==h&&(h={}),h.url=t.api.exDurl),null!=h&&(a.externalDocs=JSON.stringify(h)),null!=t.additional&&t.additional.length>0&&(a.additional=JSON.stringify(t.additional)),console.log("update API"),console.log(a),Object(r["t"])(a,(function(e){var a=e.data;200==a.code?t.$confirm(t.$t("ModifySuccessAskReturn"),t.$t("ModifySuccess"),{confirmButtonText:t.$t("GoBack"),cancelButtonText:t.$t("Cancel"),type:"success"}).then((function(){t.$router.go(-1)})).catch((function(){location.reload()})):t.$message.error(t.$t("FailedToModify")+":"+a.msg)}),(function(e){t.$message.error(t.$t("FailedToModifySeeConsole")),console.log(e)}))}))},recursionConverter:function(t,e){if(null!=e&&0!=e.length)for(var a=0;a<e.length;a++){var i={};i.type=e[a].type,i.name=e[a].name,i.description=e[a].description,null!=e[a].items&&0!=e[a].items.length&&(i.items=[],this.recursionConverter(i.items,e[a].items)),t.push(i)}},addParameter:function(){this.parameters.push({tableRowkey:this.getTableRandomRowKey(),tableRowLevel:1,required:!0,in:"query",type:"string",name:"",description:"",items:[],ref:this.parameters})},showParameterEdit:function(t){this.dialogDataEditVisible=!0,this.parameterData=t},addResponse:function(){this.responses.push({status:null,msg:null,data:[]})},addResponseData:function(t){t.push({tableRowkey:this.getTableRandomRowKey(),tableRowLevel:1,type:"string",name:"",in:"body",description:"",items:[],ref:t})},removeResponseData:function(t){var e=this;this.$confirm(this.$t("RemoveConfirm"),this.$t("Tips"),{confirmButtonText:this.$t("Confirm"),cancelButtonText:this.$t("Cancel"),type:"warning"}).then((function(){e.responses.splice(t,1)})).catch((function(){}))},showResponseDataEdit:function(t){this.dialogResponseEditVisible=!0,this.responseEditData=t,console.log(t)},addDataItems:function(t){t.items.push({tableRowkey:this.getTableRandomRowKey(),tableRowLevel:t.tableRowLevel+1,type:"string",name:"",in:"body",description:"",items:[],ref:t.items})},tableColumnMove:function(t,e,a){for(var i=-1,n=t.ref,r=0;r<n.length;r++)if(n[r].tableRowkey==e){i=r;break}if(!(-1==i||0==a&&0==i||1==a&&i==n.length-1)){var o=n[i];0==a?(this.$set(n,i,n[i-1]),this.$set(n,i-1,o)):(this.$set(n,i,n[i+1]),this.$set(n,i+1,o))}},tableColumnRemove:function(t){var e=this;this.$confirm(this.$t("RemoveConfirm"),this.$t("Tips"),{confirmButtonText:this.$t("Confirm"),cancelButtonText:this.$t("Cancel"),type:"warning"}).then((function(){e.findDataAndDelete(t.ref,t.tableRowkey)})).catch((function(){}))},findDataAndDelete:function(t,e){for(var a=0;a<t.length;a++){if(t[a].tableRowkey==e)return void t.splice(a,1);null!=t[a].items&&t[a].items.length>0&&this.findDataAndDelete(t[a].items,e)}},removeAdditional:function(t){var e=this;this.$confirm(this.$t("RemoveConfirm"),this.$t("Tips"),{confirmButtonText:this.$t("Confirm"),cancelButtonText:this.$t("Cancel"),type:"warning"}).then((function(){e.additional.splice(t,1)})).catch((function(){}))},isNumber:function(t){return"int"==t||"long"==t||"float"==t||"double"==t||"number"==t},isCanEnumsOrRegex:function(t){return"boolean"!=t&&"object"!=t&&"array"!=t},getTableRandomRowKey:function(){return"rowkey-"+Math.random()}}},l=o,s=a("2877"),p=Object(s["a"])(l,i,n,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d598d91.34751c40.js.map