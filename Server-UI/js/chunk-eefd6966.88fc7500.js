(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eefd6966"],{"09d5":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{width:"98%","max-width":"1240px",margin:"auto","padding-top":"15px"}},[r("el-form",{ref:"projectEditForm",attrs:{rules:t.editRules,model:t.projectEdit,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"项目名称",prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:t.projectEdit.name,callback:function(e){t.$set(t.projectEdit,"name",e)},expression:"projectEdit.name"}})],1),r("el-form-item",{attrs:{label:"项目版本",prop:"versions"}},[r("el-input",{attrs:{placeholder:"请输入项目版本号"},model:{value:t.projectEdit.versions,callback:function(e){t.$set(t.projectEdit,"versions",e)},expression:"projectEdit.versions"}})],1),r("el-form-item",{attrs:{label:"项目排序",prop:"sorts"}},[r("el-input",{attrs:{placeholder:"请输入项目排序"},model:{value:t.projectEdit.sorts,callback:function(e){t.$set(t.projectEdit,"sorts",t._n(e))},expression:"projectEdit.sorts"}})],1),r("el-form-item",{attrs:{label:"项目描述",prop:"description"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入项目描述,支持HTML"},model:{value:t.projectEdit.description,callback:function(e){t.$set(t.projectEdit,"description",e)},expression:"projectEdit.description"}})],1),r("el-form-item",{attrs:{label:"服务地址集",prop:"servers"}},[[t._l(t.projectEdit.servers,(function(e,n){return r("div",{key:n,staticStyle:{border:"1px solid #DCDFE6",padding:"5px","margin-bottom":"5px"}},[r("el-input",{attrs:{placeholder:"请输入主机地址,必填,示例 http://127.0.0.1:8080/v1"},model:{value:e.url,callback:function(r){t.$set(e,"url",r)},expression:"server.url"}}),r("el-input",{staticClass:"novalidate",attrs:{placeholder:"请输入主机说明,选填,示例 本地开发服务器"},model:{value:e.description,callback:function(r){t.$set(e,"description",r)},expression:"server.description"}}),r("div",{staticStyle:{"text-align":"right","padding-top":"3px"}},[r("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.removeServer(n)}}},[t._v("移除")])],1)],1)})),r("div",{staticStyle:{"text-align":"right"}},[r("el-button",{attrs:{size:"medium"},on:{click:function(e){return t.addServer()}}},[t._v("添加更多")])],1)]],2),r("el-form-item",{attrs:{label:"联系人",prop:"contactName"}},[r("el-input",{attrs:{placeholder:"请输入联系人"},model:{value:t.projectEdit.contactName,callback:function(e){t.$set(t.projectEdit,"contactName",e)},expression:"projectEdit.contactName"}})],1),r("el-form-item",{attrs:{label:"联系信息",prop:"contactInfo"}},[r("el-input",{attrs:{placeholder:"请输入联系信息,支持HTML"},model:{value:t.projectEdit.contactInfo,callback:function(e){t.$set(t.projectEdit,"contactInfo",e)},expression:"projectEdit.contactInfo"}})],1),r("el-form-item",{attrs:{label:"附加文档URL",prop:"exDurl"}},[r("el-input",{attrs:{placeholder:"请输入附加文档URL"},model:{value:t.projectEdit.exDurl,callback:function(e){t.$set(t.projectEdit,"exDurl",e)},expression:"projectEdit.exDurl"}})],1),r("el-form-item",{attrs:{label:"附加文档描述",prop:"exDdescription"}},[r("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:10},placeholder:"请输入参数描述,支持HTML"},model:{value:t.projectEdit.exDdescription,callback:function(e){t.$set(t.projectEdit,"exDdescription",e)},expression:"projectEdit.exDdescription"}})],1),r("el-form-item",[r("div",{staticStyle:{"text-align":"center"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.saveSubmit()}}},[t._v("提交")])],1)])],1)],1)},o=[],i=(r("aef6"),r("7f7f"),r("4f37"),r("0db5")),c={data:function(){var t=function(t,e,r){var n=!1;if(null!=e)for(var o=0;o<e.length;o++)if(""!=e[o].url.trim()){n=!0;break}n?r():r(new Error("请最少添加一个主机地址"))};return{projectEdit:{versions:"1.0.0",sorts:0,servers:[{url:"http://127.0.0.1:8080",description:""}]},editRules:{name:[{required:!0,message:"请输入项目名称",trigger:"blur"}],versions:[{required:!0,message:"请输入项目版本号",trigger:"blur"}],servers:[{required:!0,validator:t,trigger:"blur"}]}}},methods:{addServer:function(){this.projectEdit.servers.push({url:"",description:""})},removeServer:function(t){var e=this.projectEdit.servers;""==e[t].url&&""==e[t].description?e.splice(t,1):this.$confirm("确定移除数据吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.splice(t,1)})).catch((function(){}))},saveSubmit:function(){var t=this;this.$refs.projectEditForm.validate((function(e){if(!e)return t.$message.warning("新增失败,请按提示完善项目信息!"),!1;var r={};r.name=t.projectEdit.name,r.versions=t.projectEdit.versions,null!=t.projectEdit.description&&(r.description=t.projectEdit.description),isNaN(t.projectEdit.sorts)||(r.sorts=parseInt(t.projectEdit.sorts));for(var n=[],o=0;o<t.projectEdit.servers.length;o++){var c=t.projectEdit.servers[o];""!=c.url&&(c.url.endsWith("/")&&(c.url=c.url.substring(0,c.url.length-1)),n.push(c))}r.servers=JSON.stringify(n);var a=null;null!=t.projectEdit.exDdescription&&(a={description:t.projectEdit.exDdescription}),null!=t.projectEdit.exDurl&&(null==a&&(a={}),a.url=t.projectEdit.exDurl),null!=a&&(r.externalDocs=JSON.stringify(a)),null!=t.projectEdit.contactName&&""!=t.projectEdit.contactName&&(r.contactName=t.projectEdit.contactName),null!=t.projectEdit.contactInfo&&""!=t.projectEdit.contactInfo&&(r.contactInfo=t.projectEdit.contactInfo),console.log("执行新增项目..."),console.log(r),Object(i["r"])(r,(function(e){console.log(r);var r=e.data;200==r.code?t.$confirm("新增成功!","提示",{confirmButtonText:"继续新增",cancelButtonText:"返回列表",type:"success"}).then((function(){t.projectEdit={versions:"1.0.0",sorts:0,schemes:[]}})).catch((function(){t.$router.push("/index")})):t.$message.error("新增失败:"+r.msg)}),(function(e){t.$message.error("新增失败,更多信息请查看控制台!"),console.log(e)}))}))},closeReturn:function(){}}},a=c,p=(r("da2d"),r("2877")),u=Object(p["a"])(a,n,o,!1,null,null,null);e["default"]=u.exports},"0db5":function(t,e,r){"use strict";r.d(e,"j",(function(){return o})),r.d(e,"l",(function(){return i})),r.d(e,"r",(function(){return c})),r.d(e,"s",(function(){return a})),r.d(e,"e",(function(){return p})),r.d(e,"u",(function(){return u})),r.d(e,"n",(function(){return s})),r.d(e,"m",(function(){return l})),r.d(e,"h",(function(){return d})),r.d(e,"i",(function(){return f})),r.d(e,"q",(function(){return v})),r.d(e,"o",(function(){return m})),r.d(e,"b",(function(){return h})),r.d(e,"a",(function(){return j})),r.d(e,"f",(function(){return E})),r.d(e,"k",(function(){return x})),r.d(e,"p",(function(){return g})),r.d(e,"t",(function(){return b})),r.d(e,"d",(function(){return k})),r.d(e,"c",(function(){return $})),r.d(e,"g",(function(){return D}));var n=r("8238");function o(t,e){n["a"].get("/private/project").then(t).catch(e)}function i(t,e,r){n["a"].get("/private/project/"+t).then(e).catch(r)}function c(t,e,r){n["a"].post("/private/project/",t).then(e).catch(r)}function a(t,e,r){n["a"].post("/private/project/fromJson",t).then(e).catch(r)}function p(t,e,r){n["a"].post("/private/project/copy/"+t).then(e).catch(r)}function u(t,e,r){n["a"].put("/private/project/",t).then(e).catch(r)}function s(t,e,r){n["a"].put("/private/project/moveUp/"+t).then(e).catch(r)}function l(t,e,r){n["a"].put("/private/project/moveDown/"+t).then(e).catch(r)}function d(t,e,r){n["a"].delete("/private/project/"+t).then(e).catch(r)}function f(t,e,r){n["a"].get("/private/project/apiGroup/"+t).then(e).catch(r)}function v(t,e,r){n["a"].post("/private/apiGroup",t).then(e).catch(r)}function m(t,e,r){n["a"].put("/private/apiGroup",t).then(e).catch(r)}function h(t,e,r){n["a"].put("/private/apiGroup/moveUp/"+t).then(e).catch(r)}function j(t,e,r){n["a"].put("/private/apiGroup/moveDown/"+t).then(e).catch(r)}function E(t,e,r){n["a"].delete("/private/apiGroup/"+t).then(e).catch(r)}function x(t,e,r){n["a"].get("/private/api/"+t).then(e).catch(r)}function g(t,e,r){n["a"].post("/private/api",t).then(e).catch(r)}function b(t,e,r){n["a"].put("/private/api",t).then(e).catch(r)}function k(t,e,r){n["a"].put("/private/api/moveUp/"+t).then(e).catch(r)}function $(t,e,r){n["a"].put("/private/api/moveDown/"+t).then(e).catch(r)}function D(t,e,r){n["a"].delete("/private/api/"+t).then(e).catch(r)}},"4f37":function(t,e,r){"use strict";r("aa77")("trim",(function(t){return function(){return t(this,3)}}))},5170:function(t,e,r){},aa77:function(t,e,r){var n=r("5ca1"),o=r("be13"),i=r("79e5"),c=r("fdef"),a="["+c+"]",p="​",u=RegExp("^"+a+a+"*"),s=RegExp(a+a+"*$"),l=function(t,e,r){var o={},a=i((function(){return!!c[t]()||p[t]()!=p})),u=o[t]=a?e(d):c[t];r&&(o[r]=u),n(n.P+n.F*a,"String",o)},d=l.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(s,"")),t};t.exports=l},da2d:function(t,e,r){"use strict";var n=r("5170"),o=r.n(n);o.a},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-eefd6966.88fc7500.js.map