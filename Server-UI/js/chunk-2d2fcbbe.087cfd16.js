(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2fcbbe"],{"0db5":function(e,t,r){"use strict";r.d(t,"n",(function(){return n})),r.d(t,"r",(function(){return i})),r.d(t,"y",(function(){return s})),r.d(t,"e",(function(){return a})),r.d(t,"B",(function(){return c})),r.d(t,"u",(function(){return l})),r.d(t,"t",(function(){return p})),r.d(t,"i",(function(){return u})),r.d(t,"o",(function(){return d})),r.d(t,"z",(function(){return f})),r.d(t,"C",(function(){return v})),r.d(t,"j",(function(){return h})),r.d(t,"m",(function(){return m})),r.d(t,"x",(function(){return j})),r.d(t,"v",(function(){return g})),r.d(t,"b",(function(){return w})),r.d(t,"a",(function(){return $})),r.d(t,"f",(function(){return b})),r.d(t,"l",(function(){return x})),r.d(t,"p",(function(){return _})),r.d(t,"w",(function(){return y})),r.d(t,"A",(function(){return S})),r.d(t,"d",(function(){return D})),r.d(t,"c",(function(){return E})),r.d(t,"g",(function(){return k})),r.d(t,"k",(function(){return C})),r.d(t,"q",(function(){return T})),r.d(t,"s",(function(){return N})),r.d(t,"h",(function(){return I}));var o=r("a5f4");function n(e,t){o["a"].get("/private/project").then(e).catch(t)}function i(e,t,r){o["a"].get("/private/project/"+e).then(t).catch(r)}function s(e,t,r){o["a"].post("/private/server/project/",e).then(t).catch(r)}function a(e,t,r){o["a"].post("/private/server/project/copy/"+e).then(t).catch(r)}function c(e,t,r){o["a"].put("/private/server/project/",e).then(t).catch(r)}function l(e,t,r){o["a"].put("/private/server/project/moveUp/"+e).then(t).catch(r)}function p(e,t,r){o["a"].put("/private/server/project/moveDown/"+e).then(t).catch(r)}function u(e,t,r){o["a"].delete("/private/server/project/"+e).then(t).catch(r)}function d(e,t,r){o["a"].get("/private/projectShare/"+e).then(t).catch(r)}function f(e,t,r){o["a"].post("/private/server/projectShare",e).then(t).catch(r)}function v(e,t,r){o["a"].put("/private/server/projectShare",e).then(t).catch(r)}function h(e,t,r){o["a"].delete("/private/server/projectShare/"+e).then(t).catch(r)}function m(e,t,r){o["a"].get("/private/server/project/apiGroup/"+e).then(t).catch(r)}function j(e,t,r){o["a"].post("/private/server/apiGroup",e).then(t).catch(r)}function g(e,t,r){o["a"].put("/private/server/apiGroup",e).then(t).catch(r)}function w(e,t,r){o["a"].put("/private/server/apiGroup/moveUp/"+e).then(t).catch(r)}function $(e,t,r){o["a"].put("/private/server/apiGroup/moveDown/"+e).then(t).catch(r)}function b(e,t,r){o["a"].delete("/private/server/apiGroup/"+e).then(t).catch(r)}function x(e,t,r){o["a"].get("/private/server/apis/"+e).then(t).catch(r)}function _(e,t,r){o["a"].get("/private/server/api/"+e).then(t).catch(r)}function y(e,t,r){o["a"].post("/private/server/api",e).then(t).catch(r)}function S(e,t,r){o["a"].put("/private/server/api",e).then(t).catch(r)}function D(e,t,r){o["a"].put("/private/server/api/moveUp/"+e).then(t).catch(r)}function E(e,t,r){o["a"].put("/private/server/api/moveDown/"+e).then(t).catch(r)}function k(e,t,r){o["a"].delete("/private/server/api/"+e).then(t).catch(r)}function C(e,t){o["a"].get("/private/server/api/template").then(e).catch(t)}function T(e,t,r){o["a"].get("/private/server/api/template/"+e).then(t).catch(r)}function N(e,t,r){o["a"].post("/private/server/api/template",e).then(t).catch(r)}function I(e,t,r){o["a"].delete("/private/server/api/template/"+e).then(t).catch(r)}},1173:function(e,t,r){"use strict";r.d(t,"h",(function(){return n})),r.d(t,"d",(function(){return i})),r.d(t,"f",(function(){return s})),r.d(t,"i",(function(){return a})),r.d(t,"a",(function(){return c})),r.d(t,"e",(function(){return l})),r.d(t,"c",(function(){return p})),r.d(t,"g",(function(){return u})),r.d(t,"j",(function(){return d})),r.d(t,"b",(function(){return f}));var o=r("a5f4");function n(e,t,r){o["a"].put("/private/profile/password",e).then(t).catch(r)}function i(e,t){o["a"].get("/private/server/find/tags").then(e).catch(t)}function s(e,t,r){o["a"].post("/private/server/tag",e).then(t).catch(r)}function a(e,t,r){o["a"].put("/private/server/tag",e).then(t).catch(r)}function c(e,t,r){o["a"].delete("/private/server/tag/"+e).then(t).catch(r)}function l(e,t,r){o["a"].get("/private/server/find/users",{params:e}).then(t).catch(r)}function p(e,t){o["a"].get("/private/server/find/server/users").then(e).catch(t)}function u(e,t,r){o["a"].post("/private/server/user",e).then(t).catch(r)}function d(e,t,r){o["a"].put("/private/server/user",e).then(t).catch(r)}function f(e,t,r){o["a"].delete("/private/server/user/"+e).then(t).catch(r)}},"1fb1":function(e,t,r){},"4f37":function(e,t,r){"use strict";r("aa77")("trim",(function(e){return function(){return e(this,3)}}))},"8a63":function(e,t,r){"use strict";function o(e){if(null==e||0==e)return"";var t="",r=new Date;return r.setTime(e),t+=r.getFullYear(),t+="-"+n(r),t+="-"+i(r),t+=" "+s(r),t+=":"+a(r),t+=":"+c(r),t}function n(e){var t="";return t=e.getMonth()+1,t<10&&(t="0"+t),t}function i(e){var t="";return t=e.getDate(),t<10&&(t="0"+t),t}function s(e){var t="";return t=e.getHours(),t<10&&(t="0"+t),t}function a(e){var t="";return t=e.getMinutes(),t<10&&(t="0"+t),t}function c(e){var t="";return t=e.getSeconds(),t<10&&(t="0"+t),t}r.d(t,"a",(function(){return o}))},"912b":function(e,t,r){"use strict";var o=r("1fb1"),n=r.n(o);n.a},aa77:function(e,t,r){var o=r("5ca1"),n=r("be13"),i=r("79e5"),s=r("fdef"),a="["+s+"]",c="​",l=RegExp("^"+a+a+"*"),p=RegExp(a+a+"*$"),u=function(e,t,r){var n={},a=i((function(){return!!s[e]()||c[e]()!=c})),l=n[e]=a?t(d):s[e];r&&(n[r]=l),o(o.P+o.F*a,"String",n)},d=u.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(p,"")),e};e.exports=u},d21d:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticStyle:{width:"98%","max-width":"1240px",padding:"10px 0",margin:"auto",display:"flex","align-items":"center"}},[r("div",[r("b",[e._v(e._s("edit"===e.mode?e.$t("ModifyProject"):e.$t("ProjectInformation")))])]),r("div",{staticStyle:{"margin-left":"auto"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:"view"===e.mode,expression:"mode === 'view'"}]},[r("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(t){return e.copySubmit()}}},[e._v(e._s(e.$t("MakeACopy")))]),r("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(t){return e.showUpdateView()}}},[e._v(e._s(e.$t("Modify")))]),r("el-button",{attrs:{size:"medium",type:"danger"},on:{click:function(t){return e.deleteSubmit()}}},[e._v(e._s(e.$t("Delete")))])],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode,expression:"mode === 'edit'"}]},[r("el-button",{attrs:{size:"medium"},on:{click:function(t){e.mode="view"}}},[e._v(e._s(e.$t("Cancel")))])],1)])]),r("div",{staticStyle:{width:"98%","max-width":"1240px",margin:"auto"}},[r("table",{directives:[{name:"show",rawName:"v-show",value:"view"===e.mode,expression:"mode === 'view'"}],staticStyle:{width:"100%"},attrs:{cellspacing:"10"}},[r("tr",[r("td",{staticClass:"project-item",attrs:{width:"120px"}},[e._v(e._s(e.$t("ProjectName")))]),r("td",[e._v("\n\t\t\t\t\t"+e._s(e.project.name)+"\n\t\t\t\t\t"),r("span",{staticStyle:{"font-size":"0.8em"}},[e._v(e._s(e.project.versions))])])]),r("tr",{directives:[{name:"show",rawName:"v-show",value:e.project.lastTime,expression:"project.lastTime"}]},[r("td",{staticClass:"project-item"},[e._v(e._s(e.$t("LastUpdateTime")))]),r("td",[e._v(e._s(e.formatDate(e.project.lastTime)))])]),r("tr",{directives:[{name:"show",rawName:"v-show",value:e.project.description,expression:"project.description"}],attrs:{valign:"top"}},[r("td",{staticClass:"project-item",attrs:{width:"120px"}},[e._v(e._s(e.$t("ProjectDescription")))]),r("td",{domProps:{innerHTML:e._s(e.project.description)}})]),r("tr",{attrs:{valign:"top"}},[r("td",{staticClass:"project-item",attrs:{width:"120px"}},[e._v(e._s(e.$t("Owner")))]),r("td",[e.project.ownerInfo?r("div",[r("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"}},[r("p",[e._v(e._s(e.$t("Account"))+": "+e._s(e.project.ownerInfo.uid))]),r("p",[e._v(e._s(e.$t("Nickname"))+": "+e._s(e.project.ownerInfo.nickname))]),r("p",[e._v(e._s(e.$t("UserContact"))+": "+e._s(e.project.ownerInfo.contact))]),r("p",[e._v(e._s(e.$t("UserSummary"))+": "+e._s(e.project.ownerInfo.summary))]),r("p",[e._v(e._s(e.$t("LastLoginTime"))+": "+e._s(e.formatDate(e.project.ownerInfo.lasttime)))]),r("span",{staticClass:"user-tag",attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(e.project.ownerInfo.nickname))])])],1):r("div",[e._v(e._s(e.$t("SuperAdministrator")))])])]),r("tr",[r("td",{staticClass:"project-item",attrs:{valign:"top"}},[e._v(e._s(e.$t("ProjectAllowedTags")))]),r("td",[null==e.project.owners||0==e.project.owners.length?r("div",[e._v(e._s(e.$t("AllUsers")))]):r("div",e._l(e.getUserTags(e.project.owners),(function(t){return r("span",{key:t.tid,staticClass:"user-tag",on:{click:function(r){return e.$router.push({path:"/index/members",query:{tid:t.tid}})}}},[e._v("\n\t\t\t\t\t\t\t"+e._s(t.tname)+"\n\t\t\t\t\t\t")])})),0)])]),r("tr",[r("td",{staticClass:"project-item",attrs:{valign:"top"}},[e._v(e._s(e.$t("Servers")))]),r("td",e._l(e.project.servers,(function(t,o){return r("div",{key:o},[r("div",[e._v(e._s(t.url))]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.description,expression:"item.description"}],staticStyle:{color:"#888"}},[e._v(e._s(t.description))])])})),0)]),r("tr",{directives:[{name:"show",rawName:"v-show",value:e.project.contactName,expression:"project.contactName"}]},[r("td",{staticClass:"project-item"},[e._v(e._s(e.$t("Contacts")))]),r("td",[e._v(e._s(e.project.contactName))])]),r("tr",{directives:[{name:"show",rawName:"v-show",value:e.project.contactInfo,expression:"project.contactInfo"}]},[r("td",{staticClass:"project-item"},[e._v(e._s(e.$t("ContactInfo")))]),r("td",{domProps:{innerHTML:e._s(e.project.contactInfo)}})]),r("tr",{directives:[{name:"show",rawName:"v-show",value:e.project.exDdescription&&e.project.exDurl,expression:"project.exDdescription && project.exDurl"}]},[r("td",{staticClass:"project-item",attrs:{valign:"top"}},[e._v(e._s(e.$t("ExtDocsDesc")))]),r("td",[r("div",{directives:[{name:"show",rawName:"v-show",value:e.project.exDdescription,expression:"project.exDdescription"}],domProps:{innerHTML:e._s(e.project.exDdescription)}}),r("a",{directives:[{name:"show",rawName:"v-show",value:e.project.exDurl,expression:"project.exDurl"}],staticClass:"alink",staticStyle:{"margin-left":"0"},attrs:{href:e.project.exDurl,target:"_blank"}},[e._v(e._s(e.projectEdit.exDurl))])])]),r("tr",[r("td",{staticClass:"project-item"},[e._v(e._s(e.$t("Operation")))]),r("td",[r("a",{staticClass:"alink",staticStyle:{color:"white","margin-left":"0"},attrs:{href:"#/index/get/groups/"+e.project.key}},[r("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-link"}},[e._v(e._s(e.$t("ApiManage")))])],1),r("a",{staticClass:"alink",staticStyle:{color:"white"},attrs:{href:e.exportServerHost+"/private/download/"+e.project.key+"?token="+e.sessionId}},[r("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-download"}},[e._v(e._s(e.$t("ExportDocument")))])],1),r("a",{staticClass:"alink",staticStyle:{color:"white"},attrs:{href:e.exportServerHost+"/client/index.html?id="+e.project.key+"&token="+e.sessionId,target:"_blank"}},[r("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-position"}},[e._v(e._s(e.$t("OpenOnClient")))])],1)])])]),r("el-form",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode,expression:"mode === 'edit'"}],ref:"projectEditForm",attrs:{rules:e.editRules,model:e.projectEdit,"label-width":"120px"}},[r("el-form-item",{attrs:{label:e.$t("ProjectName"),prop:"name"}},[r("el-input",{attrs:{placeholder:e.$t("EnterProjectName")},model:{value:e.projectEdit.name,callback:function(t){e.$set(e.projectEdit,"name",t)},expression:"projectEdit.name"}})],1),r("el-form-item",{attrs:{label:e.$t("ProjectVersion"),prop:"versions"}},[r("el-input",{attrs:{placeholder:e.$t("EnterProjectVersion")},model:{value:e.projectEdit.versions,callback:function(t){e.$set(e.projectEdit,"versions",t)},expression:"projectEdit.versions"}})],1),r("el-form-item",{attrs:{label:e.$t("ProjectRanking"),prop:"sorts"}},[r("el-input",{attrs:{placeholder:e.$t("EnterProjectRanking")},model:{value:e.projectEdit.sorts,callback:function(t){e.$set(e.projectEdit,"sorts",e._n(t))},expression:"projectEdit.sorts"}})],1),r("el-form-item",{attrs:{label:e.$t("ProjectDescription"),prop:"description"}},[r("el-input",{attrs:{type:"textarea",placeholder:e.$t("EnterProjectDescription")},model:{value:e.projectEdit.description,callback:function(t){e.$set(e.projectEdit,"description",t)},expression:"projectEdit.description"}})],1),r("el-form-item",{attrs:{label:e.$t("Owner"),prop:"owner"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:e.$t("SelectOwner")},model:{value:e.projectEdit.owner,callback:function(t){e.$set(e.projectEdit,"owner",t)},expression:"projectEdit.owner"}},e._l(e.userList,(function(e){return r("el-option",{key:e.uid,attrs:{label:e.nickname,value:e.uid}})})),1)],1),r("el-form-item",{attrs:{label:e.$t("ProjectAllowedTags"),prop:"owners"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:e.$t("SelectTheUserAllowedToAccessAllByDefault")},model:{value:e.projectEdit.owners,callback:function(t){e.$set(e.projectEdit,"owners",t)},expression:"projectEdit.owners"}},e._l(e.userTags,(function(e){return r("el-option",{key:e.tid,attrs:{label:e.tname,value:e.tid}})})),1)],1),r("el-form-item",{attrs:{label:e.$t("Servers"),prop:"servers"}},[[e._l(e.projectEdit.servers,(function(t,o){return r("div",{key:o,staticStyle:{border:"1px solid #DCDFE6",padding:"5px","margin-bottom":"5px"}},[r("el-input",{attrs:{placeholder:e.$t("EnterHostAddress")},model:{value:t.url,callback:function(r){e.$set(t,"url",r)},expression:"server.url"}}),r("el-input",{staticClass:"novalidate",attrs:{placeholder:e.$t("EnterHostDescription")},model:{value:t.description,callback:function(r){e.$set(t,"description",r)},expression:"server.description"}}),r("div",{staticStyle:{"text-align":"right","padding-top":"3px"}},[r("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.removeServer(o)}}},[e._v(e._s(e.$t("Remove")))])],1)],1)})),r("div",{staticStyle:{"text-align":"right"}},[r("el-button",{attrs:{size:"medium"},on:{click:function(t){return e.addServer()}}},[e._v(e._s(e.$t("AddMore")))])],1)]],2),r("el-form-item",{attrs:{label:e.$t("Contacts"),prop:"contactName"}},[r("el-input",{attrs:{placeholder:e.$t("EnterContacts")},model:{value:e.projectEdit.contactName,callback:function(t){e.$set(e.projectEdit,"contactName",t)},expression:"projectEdit.contactName"}})],1),r("el-form-item",{attrs:{label:e.$t("ContactInfo"),prop:"contactInfo"}},[r("el-input",{attrs:{placeholder:e.$t("EnterContactInfo")},model:{value:e.projectEdit.contactInfo,callback:function(t){e.$set(e.projectEdit,"contactInfo",t)},expression:"projectEdit.contactInfo"}})],1),r("el-form-item",{attrs:{label:e.$t("ExtDocsURL"),prop:"exDurl"}},[r("el-input",{attrs:{placeholder:e.$t("EnterExtDocsURL")},model:{value:e.projectEdit.exDurl,callback:function(t){e.$set(e.projectEdit,"exDurl",t)},expression:"projectEdit.exDurl"}})],1),r("el-form-item",{attrs:{label:e.$t("ExtDocsDesc"),prop:"exDdescription"}},[r("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:10},placeholder:e.$t("EnterExtDocsDesc")},model:{value:e.projectEdit.exDdescription,callback:function(t){e.$set(e.projectEdit,"exDdescription",t)},expression:"projectEdit.exDdescription"}})],1),r("el-form-item",[r("div",{staticStyle:{"text-align":"center"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateSubmit()}}},[e._v(e._s(e.$t("SubmitModify")))])],1)])],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"view"===e.mode,expression:"mode === 'view'"}]},[r("div",{staticStyle:{display:"flex","align-items":"center","margin-top":"10px"}},[r("div",[r("b",[e._v(e._s(e.$t("ProjectShare")))])]),r("div",{staticStyle:{"margin-left":"auto"}},[r("el-button",{attrs:{size:"medium",type:"primary",icon:"el-icon-share"},on:{click:function(t){return e.showShareCreate()}}},[e._v(e._s(e.$t("CreateShare")))])],1)]),r("el-table",{attrs:{data:e.shareList,"empty-text":e.$t("NoSharedRecord")}},[r("el-table-column",{attrs:{prop:"url",label:e.$t("ShareUrl"),"min-width":"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.generateShareUrl(t.row.sid)))])]}}])}),r("el-table-column",{attrs:{prop:"pwd",label:e.$t("ViewPassword"),width:"180"}}),r("el-table-column",{attrs:{prop:"ctime",label:e.$t("ShareTime"),width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.formatDate(t.row.shareTime)))])]}}])}),r("el-table-column",{attrs:{label:e.$t("Operation"),width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(r){return e.copyShare(t.row)}}},[e._v(e._s(e.$t("Copy")))]),r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(r){return e.showShareUpdate(t.row)}}},[e._v(e._s(e.$t("Modify")))]),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.submitShareDelete(t.row)}}},[e._v(e._s(e.$t("Delete")))])]}}])})],1)],1),r("el-dialog",{attrs:{title:"view"==e.shareDialogMode?e.$t("NewShare"):e.$t("ModifyShare"),visible:e.shareDialogVisible},on:{"update:visible":function(t){e.shareDialogVisible=t}}},[r("el-form",{ref:"shareEditForm",attrs:{model:e.shareData,"label-width":"100px"}},[r("el-form-item",{attrs:{label:e.$t("ViewPassword"),prop:"pwd",rules:[{required:!0,message:e.$t("EnterPassword")},{min:4,max:32,message:e.$t("EnterPassword"),trigger:"blur"}]}},[r("el-input",{attrs:{placeholder:e.$t("EnterViewPassword")},model:{value:e.shareData.pwd,callback:function(t){e.$set(e.shareData,"pwd",t)},expression:"shareData.pwd"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.shareDialogVisible=!1}}},[e._v(e._s(e.$t("Cancel")))]),r("el-button",{directives:[{name:"show",rawName:"v-show",value:"edit"==e.shareDialogMode,expression:"shareDialogMode == 'edit'"}],attrs:{type:"primary"},on:{click:function(t){return e.submitShareUpdate()}}},[e._v(e._s(e.$t("Submit")))]),r("el-button",{directives:[{name:"show",rawName:"v-show",value:"view"==e.shareDialogMode,expression:"shareDialogMode == 'view'"}],attrs:{type:"primary"},on:{click:function(t){return e.submitShareCreate()}}},[e._v(e._s(e.$t("SubmitModify")))])],1)],1)],1)])},n=[],i=(r("a481"),r("aef6"),r("7f7f"),r("4f37"),r("0db5")),s=r("1173"),a=r("8a63"),c=r("4360"),l="view",p="edit",u={data:function(){var e=this,t=function(t,r,o){var n=!1;if(null!=r)for(var i=0;i<r.length;i++)if(""!=r[i].url.trim()){n=!0;break}n?o():o(new Error(e.$t("LeastOneHostAddress")))};return{exportServerHost:"",sessionId:c["a"].getters.sessionId,project:{},projectEdit:{},editRules:{name:[{required:!0,message:this.$t("EnterProjectName"),trigger:"blur"}],versions:[{required:!0,message:this.$t("EnterProjectVersion"),trigger:"blur"}],servers:[{required:!0,validator:t,trigger:"blur"}]},mode:l,groupsLoading:!0,userTags:[],userList:[],shareDialogVisible:!1,shareDialogMode:l,shareData:{id:"idadf",pwd:"123456"},shareList:[]}},created:function(){var e=c["a"].getters.role;if("ROOT"!=e&&"SERVER"!=e)this.$router.push("/index");else{var t=this.$route.params.pid;if(null==t)return void this.$message.warning(this.$t("FailedToLoadTheProjectInvalidID"));this.loadUserTags(),this.loadProject(t),this.loadSharedRecords(t)}},methods:{loadUserTags:function(){var e=this;Object(s["d"])((function(t){var r=t.data;console.log("load tags..."),console.log(r),200==r.code&&(e.userTags=r.data)}),(function(t){e.$message.error(e.$t("FailedToLoadSeeConsole")),console.log(t)}))},getUserTags:function(e){if(null==e)return[];for(var t={},r=0,o=[],n=0;n<e.length;n++){var i=e[n];if(t[i])o.push(t[i]);else while(r<this.userTags.length){var s=this.userTags[r];if(r++,t[s.tid]=s,s.tid==i){o.push(s);break}}}return o},loadProject:function(e){var t=this;Object(i["r"])(e,(function(e){var r=e.data;if(console.log("get project..."),console.log(r),200==r.code){if(null==r.data)return void t.$message.error(t.$t("FailedToLoadTheProjectInvalidID"));t.project=r.data,t.project.owners?t.project.owners=JSON.parse(t.project.owners):t.project.owners=[],t.project.servers=JSON.parse(t.project.servers),null!=t.project.externalDocs&&(t.project.externalDocs=JSON.parse(t.project.externalDocs),null!=t.project.externalDocs.description&&(t.project.exDdescription=t.project.externalDocs.description),null!=t.project.externalDocs.url&&(t.project.exDurl=t.project.externalDocs.url)),t.projectEdit=JSON.parse(JSON.stringify(t.project))}}),(function(e){t.$message.error(t.$t("FailedToGetProjectInfoSeeConsole")),console.log(e)}))},addServer:function(){this.projectEdit.servers.push({url:"",description:""})},removeServer:function(e){var t=this.projectEdit.servers;""==t[e].url&&""==t[e].description?t.splice(e,1):this.$confirm(this.$t("RemoveConfirm"),this.$t("Tips"),{confirmButtonText:this.$t("Confirm"),cancelButtonText:this.$t("Cancel"),type:"warning"}).then((function(){t.splice(e,1)})).catch((function(){}))},showUpdateView:function(){var e=this;this.mode=p,Object(s["c"])((function(t){console.log("get user list...");var r=t.data;console.log(r),200==r.code&&(e.userList=r.data)}),(function(t){e.$message.error(e.$t("LoadUserListFailed")),console.log(t)}))},updateSubmit:function(){var e=this;this.$refs.projectEditForm.validate((function(t){if(!t)return e.$message.error(e.$t("MissingRequiredInformation")),!1;var r={};r.key=e.projectEdit.key,r.name=e.projectEdit.name,r.versions=e.projectEdit.versions,null!=e.projectEdit.description&&(r.description=e.projectEdit.description),null!=e.projectEdit.owner&&""!=e.projectEdit.owner&&(r.owner=e.projectEdit.owner),r.owners=JSON.stringify(e.projectEdit.owners),isNaN(e.projectEdit.sorts)||(r.sorts=parseInt(e.projectEdit.sorts));for(var o=[],n=0;n<e.projectEdit.servers.length;n++){var s=e.projectEdit.servers[n];""!=s.url&&(s.url.endsWith("/")&&(s.url=s.url.substring(0,s.url.length-1)),o.push(s))}r.servers=JSON.stringify(o);var a=null;null!=e.projectEdit.exDdescription&&""!=e.projectEdit.exDdescription&&(a={description:e.projectEdit.exDdescription}),null!=e.projectEdit.exDurl&&""!=e.projectEdit.exDurl&&(null==a&&(a={}),a.url=e.projectEdit.exDurl),null!=a&&(r.externalDocs=JSON.stringify(a)),null!=e.projectEdit.contactName&&""!=e.projectEdit.contactName&&(r.contactName=e.projectEdit.contactName),null!=e.projectEdit.contactInfo&&""!=e.projectEdit.contactInfo&&(r.contactInfo=e.projectEdit.contactInfo),console.log("Modify project..."),console.log(r),Object(i["B"])(r,(function(t){var o=t.data;console.log(o),200==o.code&&(e.$message.success(e.$t("ModifySuccess")),e.loadProject(r.key),e.mode=l)}),(function(t){e.$message.error(e.$t("FailedToModifySeeConsole")),console.log(t)}))}))},copySubmit:function(){var e=this;this.$confirm(this.$t("CopyConfirm"),this.$t("Tips"),{confirmButtonText:this.$t("Confirm"),cancelButtonText:this.$t("Cancel"),type:"warning"}).then((function(){Object(i["e"])(e.project.key,(function(t){console.log(r);var r=t.data;200==r.code&&(e.$message.success(e.$t("CopySuccess")),e.$router.push("/index"))}),(function(t){e.$message.error(e.$t("FailedToModifySeeConsole")),console.log(err)}))})).catch((function(){}))},deleteSubmit:function(){var e=this;this.$confirm(this.$t("DeleteConfirm"),this.$t("Tips"),{confirmButtonText:this.$t("Confirm"),cancelButtonText:this.$t("Cancel"),type:"warning"}).then((function(){Object(i["i"])(e.project.key,(function(t){console.log(r);var r=t.data;200==r.code&&(e.$message.success(e.$t("DeleteSuccess")),e.$router.push("/index"))}),(function(t){e.$message.error(e.$t("FailedToModifySeeConsole")),console.log(t)}))})).catch((function(){}))},loadSharedRecords:function(e){var t=this;Object(i["o"])(e,(function(e){var r=e.data;console.log("load project share..."),console.log(r),200==r.code&&(t.shareList=r.data)}),(function(e){t.$message.error(t.$t("FailedToLoadSeeConsole")),console.log(e)}))},generateShareUrl:function(e){return location.protocol+"//"+location.host+"/client/index.html?sid="+e},showShareCreate:function(){this.shareDialogVisible=!0,this.shareDialogMode=l,this.shareData={pwd:""}},submitShareCreate:function(){var e=this;this.$refs.shareEditForm.validate((function(t){if(!t)return e.$message.error(e.$t("MissingRequiredInformation")),!1;var r={pid:e.project.key,pwd:e.shareData.pwd};console.log("create project share..."),console.log(r),Object(i["z"])(r,(function(t){var r=t.data;console.log(r),200==r.code&&(e.$message.success(e.$t("AddSuccess")),e.loadSharedRecords(e.project.key),e.shareDialogVisible=!1)}),(function(t){e.$message.error(e.$t("FailedToAddSeeConsole")),console.log(t)}))}))},showShareUpdate:function(e){this.shareDialogVisible=!0,this.shareDialogMode=p,this.shareData=e},submitShareUpdate:function(){var e=this;this.$refs.shareEditForm.validate((function(t){if(!t)return e.$message.error(e.$t("MissingRequiredInformation")),!1;var r={sid:e.shareData.sid,pid:e.project.key,pwd:e.shareData.pwd};console.log("modify project share..."),console.log(r),Object(i["C"])(r,(function(t){var r=t.data;console.log(r),200==r.code&&(e.$message.success(e.$t("ModifySuccess")),e.loadSharedRecords(e.project.key),e.shareDialogVisible=!1)}),(function(t){e.$message.error(e.$t("FailedToModifySeeConsole")),console.log(t)}))}))},copyShare:function(e){var t=document.createElement("textarea"),r=this.$t("ShareCopyTemplate").replace("{title}",this.project.name).replace("{link}",this.generateShareUrl(e.sid)).replace("{pwd}",e.pwd);t.value=r,document.body.appendChild(t),t.select(),document.execCommand("Copy"),this.$message({message:this.$t("CopySuccess"),type:"success"}),t.remove()},submitShareDelete:function(e){var t=this;this.$confirm(this.$t("DeleteConfirm"),this.$t("Tips"),{confirmButtonText:this.$t("Confirm"),cancelButtonText:this.$t("Cancel"),type:"warning"}).then((function(){Object(i["j"])(e.sid,(function(e){var r=e.data;console.log("delete project share..."),console.log(r),200==r.code&&(t.$message.success(t.$t("DeleteSuccess")),t.loadSharedRecords(t.project.key))}),(function(e){t.$message.error(t.$t("FailedToModifySeeConsole")),console.log(e)}))})).catch((function(){}))},formatDate:function(e){return Object(a["a"])(e)}}},d=u,f=(r("912b"),r("2877")),v=Object(f["a"])(d,o,n,!1,null,"766d31af",null);t["default"]=v.exports},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-2d2fcbbe.087cfd16.js.map