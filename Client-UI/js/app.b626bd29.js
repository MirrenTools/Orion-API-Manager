(function(e){function t(t){for(var s,n,o=t[0],l=t[1],c=t[2],u=0,d=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&d.push(r[n][0]),r[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);p&&p(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(s=!1)}s&&(i.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},r={app:0},i=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var p=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"0dd3":function(e,t,a){"use strict";a("efca")},1:function(e,t){},2:function(e,t){},2212:function(e,t,a){"use strict";a("3169")},3169:function(e,t,a){},4552:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"header"}},[a("div",{attrs:{id:"collapse"}},[a("i",{directives:[{name:"show",rawName:"v-show",value:e.asideCollapse,expression:"asideCollapse"}],staticClass:"el-icon-s-fold",on:{click:function(t){e.asideCollapse=!e.asideCollapse}}}),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.asideCollapse,expression:"!asideCollapse"}],staticClass:"el-icon-s-unfold",on:{click:function(t){e.asideCollapse=!e.asideCollapse}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.project.isload,expression:"project.isload"}],attrs:{id:"project-title"},on:{click:e.switchToProjectView}},[e._m(0),a("div",[a("b",[e._v(e._s(e.project.name))])])]),e.isNotShareMode?a("div",{staticStyle:{"margin-left":"auto","margin-right":"12px",display:"flex","align-items":"center","justify-content":"end",width:"70%"}},[a("div",{staticClass:"mini-screen-mide",staticStyle:{width:"50%"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:e.$t("FileUrl")},model:{value:e.fileUrl,callback:function(t){e.fileUrl=t},expression:"fileUrl"}},[a("el-button",{attrs:{slot:"append",loading:e.fileUrlLoading},on:{click:e.getProjectFromUrl},slot:"append"},[e._v(e._s(e.$t("RequestLoad")))])],1)],1),a("div",{staticClass:"nav-item mini-screen-mide"},[a("el-button",{staticClass:"nav-item-color",attrs:{type:"text",icon:"el-icon-folder-opened"},on:{click:function(t){return e.$refs.readFile.click()}}},[e._v(e._s(e.$t("LocalFile")))]),a("input",{ref:"readFile",staticStyle:{display:"none"},attrs:{type:"file",accept:".json,.txt"},on:{change:e.getProjectFromFile}})],1),a("div",{staticClass:"nav-item",on:{click:e.switchToRequestView}},[a("el-button",{staticClass:"nav-item-color",attrs:{type:"text",icon:"el-icon-link"}},[e._v("请求测试")])],1),a("div",{staticClass:"nav-item"},[a("a",{attrs:{href:"/"}},[a("el-button",{staticClass:"nav-item-color",attrs:{type:"text",icon:"el-icon-box"}},[e._v("进入控制台")])],1)])]):e._e()]),a("el-container",[a("el-aside",{directives:[{name:"show",rawName:"v-show",value:e.asideCollapse,expression:"asideCollapse"}],staticStyle:{overflow:"auto",height:"100vh"},attrs:{width:"400px"}},[a("div",{staticStyle:{height:"65px"}}),a("div",{staticClass:"mini-screen-show"},[a("div",[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:e.$t("FileUrl")},model:{value:e.fileUrl,callback:function(t){e.fileUrl=t},expression:"fileUrl"}},[a("el-button",{attrs:{slot:"append",loading:e.fileUrlLoading},on:{click:e.getProjectFromUrl},slot:"append"},[e._v(e._s(e.$t("RequestLoad")))])],1)],1),a("div",{staticStyle:{"margin-left":"5px"}},[a("el-button",{attrs:{icon:"el-icon-folder-opened"},on:{click:function(t){return e.$refs.readFile.click()}}},[e._v(e._s(e.$t("LocalFile")))]),a("input",{ref:"readFile",staticStyle:{display:"none"},attrs:{type:"file",accept:".json,.txt"},on:{change:e.getProjectFromFile}})],1)]),a("OamTree",{directives:[{name:"loading",rawName:"v-loading",value:e.groupsIsLoading,expression:"groupsIsLoading"}],attrs:{data:e.groups,selectHandler:e.apiSelectHandler,selectId:e.selectApiId,emptyText:e.$t("NoApi"),"element-loading-text":e.$t("LoadingApiGroups")}})],1),a("el-main",{staticStyle:{height:"100vh","overflow-y":"auto"}},[a("div",{staticStyle:{height:"61px"}}),a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:"PROJECT"==e.mainShowMode,expression:"mainShowMode == 'PROJECT'"}]},[a("OamProjectView",{ref:"projectView",on:{selectServer:e.projectSelectServer,addCustomServer:e.projectAddCustomServer,addParamterVariable:e.projectAddParamterVariable,removeParamterVariable:e.projectRemoveParamterVariable,saveParamterVariable:e.projectSaveParamterVariable}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"GROUP"==e.mainShowMode,expression:"mainShowMode == 'GROUP'"}]},[a("OamGroupView",{attrs:{group:e.selectGroup}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"REQUEST_TEST"==e.mainShowMode,expression:"mainShowMode == 'REQUEST_TEST'"}]},[a("OamRequestTestView",{attrs:{isNotShareMode:e.isNotShareMode,sessionToken:e.sessionToken}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"API"==e.mainShowMode,expression:"mainShowMode == 'API'"}]},[a("OamApiView",{attrs:{api:e.selectApi,isNotShareMode:e.isNotShareMode,sessionToken:e.sessionToken}})],1)])])],1)],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("i",{staticClass:"el-icon-s-tools"})])}],n=(a("a4d3"),a("e01a"),a("a15b"),a("a434"),a("b0c0"),a("ac1f"),a("5319"),a("841c"),a("2ca0"),a("498a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"oam_tree"},[null==e.data||0==e.data.length?a("div",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.emptyText))]):e._l(e.data,(function(t){return a("div",{key:t.id,staticClass:"oam_tree_group"},[a("div",{staticStyle:{display:"flex"}},[a("div",[a("div",{class:["oam_tree_group_icon",t.show?"oam_tree_group_icon_expand":""],on:{click:function(a){return e.expand(t)}}},[a("svg",{attrs:{viewBox:"0 0 1024 1024","data-icon":"caret-right",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"}},[a("path",{attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}})])])]),a("div",{staticClass:"oam_tree_group_title",class:{oam_tree_select:e.selectId==t.id},on:{click:function(a){return e.click(t.id)}}},[a("b",[e._v(e._s(t.title))])])]),a("transition",{attrs:{name:"slide-fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"item.show"}]},e._l(t.apis,(function(t){return a("OamTreeNode",{key:t.id,class:{oam_tree_select:e.selectId==t.id},attrs:{id:t.id,title:t.title,selectHandler:e.selectHandler},on:{updateCurrentId:e.updateCurrentId}})})),1)])],1)}))],2)}),o=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"oam_tree_node_default",on:{click:e.click}},[e._v(" "+e._s(e.title)+" ")])},c=[],p={name:"OamTreeNode",props:{id:String,title:String,selectHandler:Function},methods:{click:function(){this.selectHandler(this.id)}}},u=p,d=(a("8803"),a("2877")),m=Object(d["a"])(u,l,c,!1,null,"ac06bb60",null),h=m.exports,v={name:"OamTree",components:{OamTreeNode:h},props:{data:{type:Array,default:function(){return[]}},emptyText:String,selectId:String,selectHandler:Function,expandHandler:Function},methods:{click:function(e){this.selectHandler(e)},expand:function(e){var t=!e.show;e.show=t,null!=this.expandHandler&&this.expandHandler(e.id,t)},updateCurrentId:function(e){this.$emit("apiSelectHandler",e)}}},f=v,g=(a("ed89"),Object(d["a"])(f,n,o,!1,null,"110bca00",null)),y=g.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.project.isload,expression:"!project.isload"}]},[e._v(e._s(e.$t("ProjectNotLoaded")))]),a("table",{directives:[{name:"show",rawName:"v-show",value:e.project.isload,expression:"project.isload"}],staticStyle:{width:"100%","max-width":"1280px"},attrs:{cellpadding:"5",border:"0"}},[a("tr",[a("td",{staticStyle:{width:"10rem","min-width":"6rem"},attrs:{align:"right",valign:"top"}},[a("b",[e._v(e._s(e.$t("Project")))])]),a("td",[e._v(" "+e._s(e.project.name)+" "),a("span",{staticStyle:{color:"#666","font-size":"13px"}},[e._v(e._s(e.project.versions))])])]),e.project.lastTime?a("tr",[a("td",{attrs:{align:"right",valign:"top"}},[a("b",[e._v(e._s(e.$t("Datetime")))])]),a("td",[e._v(e._s(e.project.lastTime))])]):e._e(),e.project.description?a("tr",[a("td",{attrs:{align:"right",valign:"top"}},[a("b",[e._v(e._s(e.$t("Description")))])]),a("td",[a("div",{domProps:{innerHTML:e._s(e.project.description)}})])]):e._e(),e.project.externalDocs?a("tr",[a("td",{attrs:{align:"right",valign:"top"}},[a("b",[e._v(e._s(e.$t("AdditionalDocument")))])]),a("td",[a("div",{domProps:{innerHTML:e._s(e.project.externalDocs.description)}}),a("div",{staticStyle:{"margin-top":"10px"}},[a("a",{staticStyle:{color:"#409EFF"},attrs:{href:e.project.externalDocs.url,target:"_blank"}},[e._v(e._s(e.project.externalDocs.url))])])])]):e._e(),e.project.contactName?a("tr",[a("td",{attrs:{align:"right",valign:"top"}},[a("b",[e._v(e._s(e.$t("Contacts")))])]),a("td",[e._v(e._s(e.project.contactName))])]):e._e(),e.project.contactInfo?a("tr",[a("td",{attrs:{align:"right",valign:"top"}},[a("b",[e._v(e._s(e.$t("ContactsInfo")))])]),a("td",[a("div",{domProps:{innerHTML:e._s(e.project.contactInfo)}})])]):e._e(),a("tr",[a("td",{attrs:{align:"right",valign:"top"}},[a("b",[e._v(e._s(e.$t("Servers")))])]),a("td",[a("div",[e._l(e.project.servers,(function(t,s){return a("div",{key:s},[a("div",{staticStyle:{"margin-bottom":"10px"},on:{click:function(a){return e.selectProjectServer(t.url)}}},[a("div",{staticStyle:{cursor:"pointer"},attrs:{title:e.$t("UseThisServer")}},[e._v(" "+e._s(t.url)+" "),a("i",{directives:[{name:"show",rawName:"v-show",value:t.url==e.selectServer,expression:"item.url == selectServer"}],staticClass:"el-icon-check",staticStyle:{color:"#409EFF"}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.description,expression:"item.description"}],staticStyle:{color:"#888",cursor:"pointer"}},[e._v(e._s(t.description))])])])})),a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{width:"95%"}},[a("el-input",{attrs:{placeholder:e.$t("AddTemporaryServer"),size:"medium"},model:{value:e.customServer,callback:function(t){e.customServer=t},expression:"customServer"}})],1),a("div",{staticStyle:{"margin-left":"5px"}},[a("el-button",{attrs:{size:"medium"},on:{click:function(t){return e.addCustomServer()}}},[e._v(e._s(e.$t("Add")))])],1)])],2)])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.project.isload,expression:"project.isload"}],staticStyle:{display:"flex","max-width":"1288px"}},[a("div",{staticStyle:{width:"10rem","min-width":"6rem","text-align":"right","margin-left":"8px"}},[a("b",[e._v(e._s(e.$t("ParameterVariable")))])]),a("div",{staticStyle:{"margin-left":"10px",width:"85%"}},[a("el-table",{staticStyle:{"margin-bottom":"10px",width:"100%"},attrs:{data:e.project.parameterVariables,border:""}},[a("el-table-column",{attrs:{prop:"in",label:e.$t("ParamsPosition"),width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:e.$t("Choose")},model:{value:t.row.in,callback:function(a){e.$set(t.row,"in",a)},expression:"scope.row.in"}},[a("el-option",{attrs:{value:"query"}},[e._v("query")]),a("el-option",{attrs:{value:"body"}},[e._v("body")]),a("el-option",{attrs:{value:"path"}},[e._v("path")]),a("el-option",{attrs:{value:"header"}},[e._v("header")])],1)]}}])}),a("el-table-column",{attrs:{prop:"name",label:e.$t("ParamsName"),width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:e.$t("InputParamsName")},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),a("el-table-column",{attrs:{prop:"value",label:e.$t("ParamsValue")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:e.$t("InputParamsValue")},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])}),a("el-table-column",{attrs:{label:e.$t("Operation"),width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.removeParamterVariable(t.$index)}}},[e._v(e._s(e.$t("Remove")))])]}}])})],1),a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("div",{staticStyle:{color:"#666"}},[e._v(e._s(e.$t("ParameterVariableTips")))]),a("div",{staticStyle:{"margin-left":"auto"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.paramterVariableLength>0,expression:"paramterVariableLength > 0"}],attrs:{size:"medium",type:"primary"},on:{click:function(t){return e.saveParamterVariable()}}},[e._v(e._s(e.$t("Save")))]),a("el-button",{attrs:{size:"medium"},on:{click:function(t){return e.addParamterVariable()}}},[e._v(e._s(e.$t("Add")))])],1)])],1)])])},x=[],w={name:"OamProjectView",data:function(){return{project:{},selectServer:"",customServer:"",paramterVariableLength:0}},created:function(){null!=this.project.parameterVariables&&(this.paramterVariableLength=this.project.parameterVariables.length)},methods:{updateData:function(e){this.project=e,null!=this.project.parameterVariables?this.paramterVariableLength=this.project.parameterVariables.length:this.paramterVariableLength=0,this.selectServer=e.selectServer},selectProjectServer:function(e){this.$emit("selectServer",e)},addCustomServer:function(){this.$emit("addCustomServer",this.customServer),this.customServer=""},addParamterVariable:function(){this.$emit("addParamterVariable")},removeParamterVariable:function(e){this.$emit("removeParamterVariable",e)},saveParamterVariable:function(){this.$emit("saveParamterVariable")}}},S=w,_=Object(d["a"])(S,b,x,!1,null,null,null),P=_.exports,$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("table",{staticStyle:{width:"100%","max-width":"1280px"},attrs:{cellpadding:"5",border:"0"}},[a("tr",[a("td",{staticStyle:{width:"10rem"},attrs:{align:"right",valign:"top"}},[a("b",[e._v(e._s(e.$t("GroupName")))])]),a("td",[e._v(e._s(e.group.name))])]),a("tr",[a("td",{attrs:{align:"right",valign:"top"}},[a("b",[e._v(e._s(e.$t("GroupSummary")))])]),a("td",[e._v(e._s(e.group.summary))])]),e.group.description?a("tr",[a("td",{attrs:{align:"right",valign:"top"}},[a("b",[e._v(e._s(e.$t("GroupDescription")))])]),a("td",[a("div",{domProps:{innerHTML:e._s(e.group.description)}})])]):e._e(),e.group.externalDocs?a("tr",[a("td",{attrs:{align:"right",valign:"top"}},[a("b",[e._v(e._s(e.$t("AdditionalDocument")))])]),a("td",[a("div",{domProps:{innerHTML:e._s(e.group.externalDocs.description)}}),a("div",{staticStyle:{"margin-top":"10px"}},[a("a",{staticStyle:{color:"#409EFF"},attrs:{href:e.group.externalDocs.url,target:"_blank"}},[e._v(e._s(e.group.externalDocs.url))])])])]):e._e()])])},j=[],R={name:"OamGroupView",props:{group:Object},data:function(){return{}},created:function(){},methods:{}},T=R,k=Object(d["a"])(T,$,j,!1,null,null,null),C=k.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"api-body",class:["api-body-"+e.api.method]},[a("div",{staticClass:"api-header",class:["api-header-"+e.api.method]},[a("div",{staticClass:"api-header-item",staticStyle:{display:"flex","flex-wrap":"wrap"}},[a("div",{staticClass:"flexCenter",staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.$t("RequestURL"))+":")]),a("div",{staticClass:"flexCenter",staticStyle:{width:"86%"}},[a("el-input",{attrs:{placeholder:e.$t("InputRequestURL"),size:"mini"},model:{value:e.api.requestUrl,callback:function(t){e.$set(e.api,"requestUrl",t)},expression:"api.requestUrl"}},[a("el-select",{staticStyle:{width:"6rem",color:"#222"},attrs:{slot:"prepend",placeholder:e.$t("Choose"),filterable:"","allow-create":""},slot:"prepend",model:{value:e.api.method,callback:function(t){e.$set(e.api,"method",t)},expression:"api.method"}},[a("el-option",{attrs:{value:"get"}},[e._v("GET")]),a("el-option",{attrs:{value:"post"}},[e._v("POST")]),a("el-option",{attrs:{value:"options"}},[e._v("OPTIONS")]),a("el-option",{attrs:{value:"head"}},[e._v("HEAD")]),a("el-option",{attrs:{value:"put"}},[e._v("PUT")]),a("el-option",{attrs:{value:"delete"}},[e._v("DELETE")]),a("el-option",{attrs:{value:"trace"}},[e._v("TRACE")]),a("el-option",{attrs:{value:"connect"}},[e._v("CONNECT")]),a("el-option",{attrs:{value:"patch"}},[e._v("PATCH")]),a("el-option",{attrs:{value:"other"}},[e._v("OTHER")])],1),a("el-button",{staticStyle:{color:"#222"},attrs:{slot:"append"},on:{click:function(t){return e.toCopy(e.api.requestUrl)}},slot:"append"},[e._v("Copy")])],1)],1)])]),a("div",{staticClass:"api-body-params"},[a("div",{staticClass:"api-body-param-header"},[a("div",{staticStyle:{display:"flex"}},[a("span",[e._v(e._s(e.$t("RequestParams")))])]),a("div",{staticStyle:{display:"flex","align-items":"first baseline"}},[a("span",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.$t("RequestType")))]),a("el-select",{staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:e.$t("SelectOrAdd"),filterable:"","allow-create":""},model:{value:e.api.requestType,callback:function(t){e.$set(e.api,"requestType",t)},expression:"api.requestType"}},e._l(e.api.consumes,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)]),a("div",{staticStyle:{padding:"0 0.5rem"}},[a("el-table",{ref:"customRequestParamsTable",staticStyle:{width:"100%"},attrs:{data:e.api.customRequestParams,"row-key":"tableRowkey","tooltip-effect":"dark","empty-text":e.$t("RequestParamsEmpty")}},[a("el-table-column",{attrs:{prop:"join",label:e.$t("ParamsJoin"),width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null!=t.row.join?a("el-checkbox",{attrs:{id:"custom-parameters-join-"+t.$index},nativeOn:{click:function(a){return a.preventDefault(),e.changeCheckBoxSelect("custom-parameters-join-"+t.$index,t.row)}},model:{value:t.row.join,callback:function(a){e.$set(t.row,"join",a)},expression:"scope.row.join"}}):e._e()]}}])}),a("el-table-column",{attrs:{prop:"in",label:e.$t("ParamsPosition"),"min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{on:{change:function(a){return e.paramsBlurHandler(t.row)}},model:{value:t.row.in,callback:function(a){e.$set(t.row,"in",a)},expression:"scope.row.in"}},[a("el-option",{attrs:{value:"query"}},[e._v("query")]),a("el-option",{attrs:{value:"path"}},[e._v("path")]),a("el-option",{attrs:{value:"header"}},[e._v("header")]),a("el-option",{attrs:{value:"body"}},[e._v("body")])],1)]}}])}),a("el-table-column",{attrs:{prop:"type",label:e.$t("ParamsType"),"min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.type,callback:function(a){e.$set(t.row,"type",a)},expression:"scope.row.type"}},[a("el-option",{attrs:{value:"string"}},[e._v("string")]),a("el-option",{attrs:{value:"int"}},[e._v("int")]),a("el-option",{attrs:{value:"long"}},[e._v("long")]),a("el-option",{attrs:{value:"float"}},[e._v("float")]),a("el-option",{attrs:{value:"double"}},[e._v("double")]),a("el-option",{attrs:{value:"number"}},[e._v("number")]),a("el-option",{attrs:{value:"boolean"}},[e._v("boolean")]),a("el-option",{attrs:{value:"object"}},[e._v("object")]),a("el-option",{attrs:{value:"array"}},[e._v("array")])],1)]}}])}),a("el-table-column",{attrs:{prop:"name",label:e.$t("ParamsName"),"min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:e.$t("InputParamsName")},on:{blur:function(a){return e.paramsBlurHandler(t.row)}},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),a("el-table-column",{attrs:{prop:"value",label:e.$t("ParamsValue"),"min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{type:"textarea",autosize:{minRows:1,maxRows:3},placeholder:e.$t("InputParamsValue")},on:{blur:function(a){return e.paramsBlurHandler(t.row)}},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])})],1),a("div",{staticStyle:{"text-align":"right","background-color":"#FFF","line-height":"50px",padding:"0.5rem"}},[a("span",{staticClass:"clearBtn",on:{click:function(t){e.api.customRequestParams=[]}}},[e._v(e._s(e.$t("Clear")))]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addCustomRequestParams}},[e._v(e._s(e.$t("AddRequestParams")))]),a("el-input",{staticStyle:{width:"50px",margin:"0 5px"},attrs:{size:"small"},model:{value:e.parameterItems,callback:function(t){e.parameterItems=t},expression:"parameterItems"}}),a("span",[e._v(e._s(e.$t("Item")))])],1),a("div",{staticStyle:{"padding-top":"0.5rem"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:10},placeholder:e.$t("RequestBody")},model:{value:e.api.body,callback:function(t){e.$set(e.api,"body",t)},expression:"api.body"}})],1)],1),a("div",{staticClass:"api-body-response-header"},[a("div",{staticStyle:{display:"flex","align-items":"first baseline"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.isSxecute,expression:"isSxecute"}]},[e._v(e._s(e.$t("ResponseResult")))])]),a("div",{staticStyle:{display:"flex","flex-wrap":"wrap","align-items":"center"}},[e.isNotShareMode?a("div",{staticStyle:{"margin-right":"0.7rem"}},[a("el-checkbox",{model:{value:e.isProxy,callback:function(t){e.isProxy=t},expression:"isProxy"}},[e._v(e._s(e.$t("UseProxy")))])],1):e._e(),a("div",[a("el-button",{attrs:{type:"primary",loading:e.executing},on:{click:e.execute}},[e._v(e._s(e.executing?e.$t("Executing"):e.$t("Execute")))])],1)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isSxecute,expression:"isSxecute"}],staticClass:"api-body-response-body"},[a("el-tabs",{staticStyle:{width:"100%"},model:{value:e.responseTags,callback:function(t){e.responseTags=t},expression:"responseTags"}},[a("el-tab-pane",{attrs:{label:e.$t("BeautifyData"),name:"format"}},[a("json-viewer",{attrs:{"expand-depth":10,value:e.api.response}})],1),a("el-tab-pane",{attrs:{label:e.$t("OriginalData"),name:"original"}},[a("pre",[a("code",[e._v(e._s(e.api.response))])])]),a("el-tab-pane",{staticStyle:{color:"#409eff"},attrs:{label:e.$t("HeaderInfo"),name:"header"}},[e.api.requestHenders?a("el-divider",{attrs:{"content-position":"left"}},[e._v(e._s(e.$t("RequestHeader")))]):e._e(),e._l(e.api.requestHenders,(function(t,s){return a("div",{key:s,staticStyle:{display:"flex"}},[a("div",[e._v(e._s(s))]),a("div",{staticStyle:{margin:"0 0.5rem"}},[e._v(":")]),a("div",{staticStyle:{color:"#ff7de9"}},[e._v(e._s(t))])])})),e.api.responseHeaders?a("el-divider",{attrs:{"content-position":"left"}},[e._v(e._s(e.$t("ResponseHeader")))]):e._e(),e._l(e.api.responseHeaders,(function(t,s){return a("div",{key:s,staticStyle:{display:"flex"}},[a("div",[e._v(e._s(s))]),a("div",{staticStyle:{margin:"0 0.5rem"}},[e._v(":")]),a("div",{staticStyle:{color:"#ff7de9"}},[e._v(e._s(t))])])}))],2)],1)],1)])])])},I=[],L=(a("4160"),a("c975"),a("b64b"),a("4d63"),a("25f0"),a("159b"),a("bc3a")),O=a.n(L),N=a("4328"),V=a.n(N),D=a("349e"),E=a.n(D),A="",H=a("083c"),F=new H.Builder,U={name:"OamRequestTestView",components:{JsonViewer:E.a},props:{isNotShareMode:Boolean,sessionToken:String},data:function(){return{api:{method:"get",requestUrl:"",requestType:"x-www-form-urlencoded",consumes:["x-www-form-urlencoded","application/json","multipart/form-data","application/xml"],customRequestParams:[],body:"",response:[],responseHeaders:{}},parameterItems:1,isProxy:!1,isSxecute:!1,executing:!1,responseTags:"format"}},methods:{toCopy:function(e){var t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("Copy"),this.$message.success(this.$t("CopySucceeded")),t.remove()},changeCheckBoxSelect:function(e,t){t.join=!t.join,t.join?(document.getElementById(e).classList.add("is-checked"),document.getElementById(e).children[0].classList.add("is-checked")):(document.getElementById(e).classList.remove("is-checked"),document.getElementById(e).children[0].classList.remove("is-checked"))},paramsBlurHandler:function(e){if(""!=e.name&&""!=e.value&&"body"==e.in){var t=this.body;null!=t&&""!=t&&(this.body=t.replace(new RegExp("{"+e.name+"}","g"),e.value))}},addCustomRequestParams:function(){var e=parseInt(this.parameterItems);(isNaN(e)||e<0)&&(e=1);for(var t=0;t<e;t++){var a={join:!0,in:"query",type:"string",name:"",value:"",tableRowkey:Math.random()};this.api.customRequestParams.push(a)}},execute:function(){var e=this;this.api.response=[],this.api.responseHeaders={};var t=this.isProxy,a=this.api.requestType,s=this.api.method,r=this.api.requestUrl,i=this.api.customRequestParams||{};if(""!=r){for(var n=null,o=null,l=null,c=0;c<i.length;c++)if(i[c].join){if(null==i[c].value&&"path"!=i[c].in)continue;switch(i[c].in.toLowerCase()){case"path":var p=new RegExp("{"+i[c].name+"}","g");r=r.replace(p,i[c].value||""),p=new RegExp("/:"+i[c].name,"g"),r=r.replace(p,"/"+(i[c].value||""));break;case"header":null==n&&(n={}),n[i[c].name]=i[c].value;break;case"formdata":null==l&&(l={}),l[i[c].name]=i[c].value;break;case"body":null==l&&(l={}),l[i[c].name]=i[c].value;break;default:null==o&&(o={}),o[i[c].name]=i[c].value}}var u={};if(u.method=s,t){if(u.url=A+"/proxy/server",u.headers={},null!=n){for(var d in n)this.api.requestHenders[d]=n[d];u.headers["x-header"]=JSON.stringify(n)}u.headers["x-url"]=r,u.headers["x-session"]=this.sessionToken}else if(u.url=r,null!=n)for(var m in u.headers=n,n)this.api.requestHenders[m]=n[m];null!=o&&(u.params=o);var h=!0;null!=this.api.body&&""!=this.api.body.trim()&&(l=this.api.body.trim(),h=!1);var v=null;if(null!=l)if(-1!=a.indexOf("xml"))if(v="application/xml",h)try{u.data=F.buildObject(l)}catch(g){return void this.$notify.error({title:this.$t("Tips"),message:g,position:"bottom-right"})}else u.data=l;else if(-1!=a.indexOf("urlencoded"))v="application/x-www-form-urlencoded",u.data=h?V.a.stringify(l):l;else if(-1!=a.indexOf("form-data"))if(v="multipart/form-data",h){var f=new FormData;Object.keys(l).forEach((function(e){f.append(e,l[e])})),u.data=f}else u.data=l;else null!=a&&""!=a&&(v=a),u.data=l;null!=v&&(null==u.headers&&(u.headers={}),t?u.headers["x-type"]=v:u.headers["Content-Type"]=v),this.executing=!0,O()(u).then((function(a){for(var s in e.isSxecute=!0,e.executing=!1,e.api.response=a.data,e.api.responseHeaders.status=a.status,t&&null!=n?e.api.responseHeaders.tips=e.$t("ResponseHeaderTips"):delete e.api.responseHeaders.tips,a.headers)e.api.responseHeaders[s]=a.headers[s];console.log("request result:"),console.log(a)})).catch((function(t){if(e.isSxecute=!0,e.executing=!1,t.headers)for(var a in t.headers)e.api.responseHeaders[a]=t.headers[a];if(null!=t.response&&null!=t.response.data)e.api.response=t.response.data;else{var s={};s.tips=e.$t("MoreInfoTips"),s.error=t,e.api.response=s}console.log("request error: "),console.log(t)}))}else this.$notify.error({title:this.$t("RequestFailed"),message:this.$t("UrlCannotBeEmpty"),position:"bottom-right"})}}},M=U,B=(a("0dd3"),Object(d["a"])(M,q,I,!1,null,"847af302",null)),J=B.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"api-body",class:["api-body-"+e.api.method]},[e.api.deprecated?a("div",{staticClass:"prem05"},[e._v(e._s(e.api.deprecated?e.$t("ApiDeprecated"):""))]):e._e(),a("div",{staticClass:"api-header",class:["api-header-"+e.api.method],style:e.api.deprecated?"text-decoration: line-through;":""},[a("div",{staticClass:"api-header-item"},[e._v(e._s(e.api.title))]),a("div",{staticClass:"api-header-item"},[e._v(e._s(e.$t("ApiMethod"))+": "+e._s(e.api.method.toUpperCase()))]),a("div",{staticClass:"api-header-item",staticStyle:{display:"flex","flex-wrap":"wrap"}},[a("div",{staticClass:"flexCenter",staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.$t("RequestURL"))+":")]),a("div",{staticClass:"flexCenter",staticStyle:{width:"86%"}},[a("el-input",{attrs:{placeholder:e.$t("InputHostAndPath"),size:"mini"},model:{value:e.api.path,callback:function(t){e.$set(e.api,"path",t)},expression:"api.path"}},[a("el-select",{staticStyle:{width:"170px"},attrs:{slot:"prepend",placeholder:e.$t("SelectOrAdd"),filterable:"","allow-create":""},slot:"prepend",model:{value:e.api.selectServer,callback:function(t){e.$set(e.api,"selectServer",t)},expression:"api.selectServer"}},e._l(e.api.servers,(function(e,t){return a("el-option",{key:t,attrs:{label:e.url,value:e.url}})})),1),a("el-button",{staticStyle:{color:"#222"},attrs:{slot:"append"},on:{click:e.copy},slot:"append"},[e._v("Copy")]),a("el-button",{staticStyle:{color:"#222"},attrs:{slot:"append"},on:{click:e.copyPath},slot:"append"},[e._v("CopyPath")])],1)],1)])]),a("div",{staticClass:"prem05 background-color-white"},[a("div",{domProps:{innerHTML:e._s(e.api.description)}}),e._l(e.api.additional,(function(t,s){return a("div",{key:s},[a("div",{staticStyle:{"margin-top":"5px"}},[a("b",[e._v(e._s(t.title))])]),a("div",{domProps:{innerHTML:e._s(t.description.replace(/\n/g,"<br>"))}})])})),e.api.externalDocs?a("div",{staticStyle:{"margin-top":"0.5rem"}},[a("div",{staticStyle:{"padding-right":"0.5rem"}},[a("b",[e._v(e._s(e.$t("AdditionalDocument"))+":")])]),a("div",[e._v(" "+e._s(e.api.externalDocs.description)+" "),a("br"),a("a",{staticStyle:{color:"#409EFF"},attrs:{href:e.api.externalDocs.url,target:"_blank"}},[e._v(e._s(e.api.externalDocs.url))])])]):e._e()],2),a("div",{staticClass:"api-body-params"},[a("div",{staticClass:"api-body-param-header"},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("span",[e._v(e._s(e.$t("RequestParams")))]),null==e.api.parameters||0==e.api.parameters.length?a("span",{staticStyle:{"margin-left":"10px","font-size":"80%",color:"#909399"}},[e._v(e._s(e.$t("NotNeed")))]):e._e()]),a("div",{staticStyle:{display:"flex","align-items":"first baseline"}},[a("span",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.$t("RequestType")))]),a("el-select",{staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:e.$t("SelectOrAdd"),filterable:"","allow-create":""},model:{value:e.api.requestType,callback:function(t){e.$set(e.api,"requestType",t)},expression:"api.requestType"}},e._l(e.api.consumes,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)]),a("div",{staticClass:"api-body-param-path plrrem05"},[e.api.parameters&&e.api.parameters.length>0?a("el-table",{ref:"requestParamsTable",staticStyle:{width:"100%"},attrs:{data:e.api.parameters,"row-key":"tableRowkey","default-expand-all":"","tree-props":{children:"items",hasChildren:"hasChildren"},"tooltip-effect":"dark","empty-text":e.$t("RequestParamsEmpty")}},[a("el-table-column",{attrs:{prop:"tags",label:"",width:"30"}}),a("el-table-column",{attrs:{prop:"level",label:e.$t("Level"),width:"50"}}),a("el-table-column",{attrs:{prop:"join",label:e.$t("ParamsJoin"),width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null!=t.row.join?a("el-checkbox",{attrs:{id:"api-parameters-join-"+t.$index},nativeOn:{click:function(a){return a.preventDefault(),e.changeCheckBoxSelect("api-parameters-join-"+t.$index,t.row)}},model:{value:t.row.join,callback:function(a){e.$set(t.row,"join",a)},expression:"scope.row.join"}}):e._e()]}}],null,!1,452776247)}),a("el-table-column",{attrs:{prop:"required",label:e.$t("ParamsRequired"),width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return null!=t.row.required?[e._v(" "+e._s(1==t.row.required||"true"==t.row.required?e.$t("TheTrue"):e.$t("TheFalse"))+" ")]:void 0}}],null,!0)}),a("el-table-column",{attrs:{prop:"in",label:e.$t("ParamsPosition"),width:"100"}}),a("el-table-column",{attrs:{prop:"type",label:e.$t("ParamsType"),width:"100"}}),a("el-table-column",{attrs:{prop:"name",label:e.$t("ParamsName"),"min-width":"100"}}),a("el-table-column",{attrs:{prop:"value",label:e.$t("ParamsValue"),"min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.level?a("el-input",{attrs:{type:"textarea",autosize:{minRows:1,maxRows:3},placeholder:e.$t("InputParamsValue")},on:{blur:function(a){return e.paramsBlurHandler(t.row)}},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}}):e._e()]}}],null,!1,2774368490)}),a("el-table-column",{attrs:{label:e.$t("ParamsDescription"),"min-width":"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{domProps:{innerHTML:e._s(t.row.description)}}),""!=t.row.contains?a("div",{domProps:{innerHTML:e._s(t.row.contains)}}):e._e()]}}],null,!1,1059125649)})],1):e._e()],1),a("div",{staticClass:"api-body-result"},e._l(e.api.responses,(function(t,s){return a("div",{key:s},[a("div",{staticClass:"api-body-result-header"},[a("div",{staticStyle:{display:"flex"}},[e._v(e._s(e.$t("ResponseStatusCode"))+": "+e._s(t.status))]),a("div",{staticStyle:{display:"flex","align-items":"first baseline"}},[e._v(e._s(t.msg)+" ")])]),a("div",{staticClass:"plrrem05"},[t.schema?a("div",{staticStyle:{border:"1px solid #EBEEF5"}},[a("json-viewer",{attrs:{"expand-depth":10,value:t.schema}})],1):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:t.data&&t.data.length>0,expression:"item.data && item.data.length > 0"}]},[a("el-table",{attrs:{data:t.data,"row-key":"tableRowkey",border:"","default-expand-all":"","tree-props":{children:"items",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"in",label:e.$t("ParamsPosition"),width:"150",align:"right"}}),a("el-table-column",{attrs:{prop:"type",label:e.$t("ParamsType"),width:"120",align:"right"}}),a("el-table-column",{attrs:{prop:"name",label:e.$t("ParamsName"),width:"200"}}),a("el-table-column",{attrs:{label:e.$t("ParamsDescription")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{domProps:{innerHTML:e._s(t.row.description)}})]}}],null,!0)})],1)],1)])])})),0),a("div",{staticClass:"api-body-response-header"},[a("div",{staticStyle:{display:"flex","align-items":"first baseline"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.api.isSxecute,expression:"api.isSxecute"}]},[e._v(e._s(e.$t("ResponseResult")))])]),a("div",{staticStyle:{display:"flex","flex-wrap":"wrap","align-items":"center"}},[e.isNotShareMode?a("div",{staticStyle:{"margin-right":"0.7rem"}},[a("el-checkbox",{model:{value:e.api.proxy,callback:function(t){e.$set(e.api,"proxy",t)},expression:"api.proxy"}},[e._v(e._s(e.$t("UseProxy")))])],1):e._e(),a("div",[a("el-button",{attrs:{type:"primary",loading:e.api.executing},on:{click:e.execute}},[e._v(e._s(e.api.executing?e.$t("Executing"):e.$t("Execute")))])],1)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.api.isSxecute,expression:"api.isSxecute"}],staticClass:"api-body-response-body"},[a("el-tabs",{staticStyle:{width:"100%"},model:{value:e.api.responseTags,callback:function(t){e.$set(e.api,"responseTags",t)},expression:"api.responseTags"}},[a("el-tab-pane",{attrs:{label:e.$t("BeautifyData"),name:"format"}},[a("json-viewer",{attrs:{"expand-depth":10,value:e.api.response}})],1),a("el-tab-pane",{attrs:{label:e.$t("OriginalData"),name:"original"}},[a("pre",[a("code",[e._v(e._s(e.api.response))])])]),a("el-tab-pane",{staticStyle:{color:"#409eff"},attrs:{label:e.$t("HeaderInfo"),name:"header"}},[e.api.requestHenders?a("el-divider",{attrs:{"content-position":"left"}},[e._v(e._s(e.$t("RequestHeader")))]):e._e(),e._l(e.api.requestHenders,(function(t,s){return a("div",{key:s,staticStyle:{display:"flex"}},[a("div",[e._v(e._s(s))]),a("div",{staticStyle:{margin:"0 0.5rem"}},[e._v(":")]),a("div",{staticStyle:{color:"#ff7de9"}},[e._v(e._s(t))])])})),e.api.responseHeaders?a("el-divider",{attrs:{"content-position":"left"}},[e._v(e._s(e.$t("ResponseHeader")))]):e._e(),e._l(e.api.responseHeaders,(function(t,s){return a("div",{key:s,staticStyle:{display:"flex"}},[a("div",[e._v(e._s(s))]),a("div",{staticStyle:{margin:"0 0.5rem"}},[e._v(":")]),a("div",{staticStyle:{color:"#ff7de9"}},[e._v(e._s(t))])])}))],2)],1)],1)])])])},z=[],K="",W=a("083c"),Y=new W.Builder,Q={name:"OamApiView",components:{JsonViewer:E.a},props:{api:Object,isNotShareMode:Boolean,sessionToken:String},data:function(){return{}},created:function(){},methods:{copy:function(){var e=this.api.selectServer+this.api.path;console.log("copy:data="+e),this.toCopy(e)},copyPath:function(){var e=this.api.path;console.log("copy-path:data="+e),this.toCopy(e)},toCopy:function(e){var t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("Copy"),this.$message.success(this.$t("CopySucceeded")),t.remove()},changeCheckBoxSelect:function(e,t){t.join=!t.join,t.join?(document.getElementById(e).classList.add("is-checked"),document.getElementById(e).children[0].classList.add("is-checked")):(document.getElementById(e).classList.remove("is-checked"),document.getElementById(e).children[0].classList.remove("is-checked"))},paramsBlurHandler:function(e){if(""!=e.name&&""!=e.value&&"body"==e.in){var t=this.body;null!=t&&""!=t&&(this.body=t.replace(new RegExp("{"+e.name+"}","g"),e.value))}},execute:function(){var e=this,t=this.api.proxy,a=this.api.requestType,s=this.api.method,r=this.api.selectServer+this.api.path,i=this.api.parameters||{};if(""!=r){this.api.executing=!0;for(var n=null,o=null,l=null,c=0;c<i.length;c++)if(i[c].join){if(null==i[c].value&&"path"!=i[c].in)continue;switch(i[c].in.toLowerCase()){case"path":var p=new RegExp("{"+i[c].name+"}","g");r=r.replace(p,i[c].value||""),p=new RegExp("/:"+i[c].name,"g"),r=r.replace(p,"/"+(i[c].value||""));break;case"header":null==n&&(n={}),n[i[c].name]=i[c].value;break;case"formdata":null==l&&(l={}),l[i[c].name]=i[c].value;break;case"body":null==l&&(l={}),l[i[c].name]=i[c].value;break;default:null==o&&(o={}),o[i[c].name]=i[c].value}}var u={};if(u.method=s,t){if(u.url=K+"/proxy/server",u.headers={},null!=n){for(var d in n)this.api.requestHenders[d]=n[d];u.headers["x-header"]=JSON.stringify(n)}u.headers["x-url"]=r,u.headers["x-session"]=this.sessionToken}else if(u.url=r,null!=n)for(var m in u.headers=n,n)this.api.requestHenders[m]=n[m];null!=o&&(u.params=o);var h=!0;null!=this.api.body&&""!=this.api.body.trim()&&(l=this.api.body.trim(),h=!1);var v=null;if(null!=l)if(-1!=a.indexOf("xml"))if(v="application/xml",h)try{u.data=Y.buildObject(l)}catch(g){return void this.$notify.error({title:this.$t("tips"),message:g,position:"bottom-right"})}else u.data=l;else if(-1!=a.indexOf("urlencoded"))v="application/x-www-form-urlencoded",u.data=h?V.a.stringify(l):l;else if(-1!=a.indexOf("form-data"))if(v="multipart/form-data",h){var f=new FormData;Object.keys(l).forEach((function(e){f.append(e,l[e])})),u.data=f}else u.data=l;else null!=a&&""!=a&&(v=a),u.data=l;null!=v&&(null==u.headers&&(u.headers={}),t?u.headers["x-type"]=v:u.headers["Content-Type"]=v),this.api.executing=!0,O()(u).then((function(a){for(var s in e.api.isSxecute=!0,e.api.executing=!1,e.api.response=a.data,e.api.responseHeaders.status=a.status,t&&null!=n?e.api.responseHeaders.tips=e.$t("ResponseHeaderTips"):delete e.api.responseHeaders.tips,a.headers)e.api.responseHeaders[s]=a.headers[s];console.log("request result:"),console.log(a)})).catch((function(t){if(console.log("request error: ",t),e.api.isSxecute=!0,e.api.executing=!1,t.headers)for(var a in t.headers)e.api.responseHeaders[a]=t.headers[a];if(null!=t.response&&null!=t.response.data)e.api.response=t.response.data;else{var s={};s.tips=e.$t("MoreInfoTips"),s.error={message:t.message,config:t.config},e.api.response=s}}))}else this.$notify.error({title:this.$t("RequestFailed"),message:this.$t("UrlCannotBeEmpty"),position:"bottom-right"})}}},X=Q,Z=(a("2212"),Object(d["a"])(X,G,z,!1,null,"c4a285c8",null)),ee=Z.exports;a("466d");function te(e,t){var a=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),s=t.substr(1).match(a);return s?decodeURIComponent(s[2]):null}a("caad"),a("2532");var ae=a("0e54"),se=a.n(ae),re=function(e){function t(e){var t=s(e),a=[];if(null!=e.servers)for(var r=0;r<e.servers.length;r++){var i=e.servers[r],n=[{url:i.url,description:i.description}];if(null!=i.letiables)for(var o in i.letiables){var l=i.letiables[o],c=l.default;if(null!=c){var p=[{key:o,value:c}];if(null!=l.enum)for(var u=0;u<l.enum.length;u++){var d=l.enum[u];d!==c&&p.push({key:o,value:d})}for(var m=n.length,h=0;h<m;h++){var v=n[h].url;n[h].url=v.replace("{"+p[0].key+"}",p[0].value);for(var f=n[h].description,g=1;g<p.length;g++)n.push({url:v.replace("{"+p[g].key+"}",p[g].value),description:f})}}}for(var y=0;y<n.length;y++)a.push(n[y])}return t.servers=a,t}function a(e){var t=s(e),a=[],r=(e.host||"")+(e.basePath||"");if(null!=e.schemes)for(var i=0;i<e.schemes.length;i++)a.push({url:e.schemes[i]+"://"+r});else""!=r&&a.push({url:r});return t.servers=a,t}function s(e){var t={};if(null!=e.info){var a=e.info;null!=a.title&&(t.name=a.title),null!=a.version&&(t.versions=a.version),t.description="",null!=a.description&&(t.description=se()(a.description).replace(/^(\s|<p>)+|(\s|<\/p>)+$/g,"")),null!=a.termsOfService&&(""!=t.description&&(t.description+="\n"),null!=a.license?t.description+="<p>":t.description+="<div>",t.description+='<a href="'+a.termsOfService+'" target="_blank">Terms of service</a>',null!=a.license?t.description+="</p>":t.description+="</div>"),null!=a.license&&(""!=t.description&&(t.description+="\n"),t.description+='<div><a href="'+(a.license.url||"#")+'" target="_blank">License '+(a.license.name||"")+"</a></div>"),null!=a.contact&&(null!=a.contact.name&&(t.contactName=a.contact.name),null!=a.contact.email&&(t.contactInfo='Email: <a href="mailto:'+a.contact.email+'">'+a.contact.email+"</a>"),null!=a.contact.url&&(null==t.contactInfo?t.contactInfo="":t.contactInfo+="　",t.contactInfo+='URL: <a href="'+a.contact.url+'" target="_blank">'+a.contact.url+"</a>"))}t.content=[];var s={};if(null!=e.tags)for(var o=0;o<e.tags.length;o++){var c=e.tags[o];c.apis=[],c.summary=c.name,null!=c.description&&(c.description=se()(c.description).replace(/^(\s|<p>)+|(\s|<\/p>)+$/g,"")),null!=s[c.name]?c.description&&(null==s[c.name].description&&(s[c.name].description=""),s[c.name].description+=se()(c.description).replace(/^(\s|<p>)+|(\s|<\/p>)+$/g,"")):s[c.name]=c}var p={};if(null!=e.definitions)for(var u in e.definitions)p["#/definitions/"+u]=e.definitions[u];if(null!=e.parameters)for(var d in e.parameters)p["#/parameters/"+d]=e.parameters[d];if(null!=e.responses)for(var m in e.responses)p["#/responses/"+m]=e.responses[m];if(null!=e.components&&null!=e.components.schemas)for(var h in e.components.schemas)p["#/components/schemas/"+h]=e.components.schemas[h];if(null!=e.components&&null!=e.components.parameters)for(var v in e.components.parameters)p["#/components/parameters/"+v]=e.components.parameters[v];if(null!=e.components&&null!=e.components.responses)for(var f in e.components.responses)p["#/components/responses/"+f]=e.components.responses[f];if(null!=e.components&&null!=e.components.requestBodies)for(var g in e.components.requestBodies)p["#/components/requestBodies/"+g]=e.components.requestBodies[g];if(null!=e.components&&null!=e.components.headers)for(var y in e.components.headers)p["#/components/headers/"+y]=e.components.headers[y];for(var b in p){var x=r(p[b],p);p[b]=x}for(var w in e.paths){var S=e.paths[w];for(var _ in S){var P={};P.path=w;var $=S[_];if(P.method=_,P.title=$.summary||w,null!=$.description&&(P.description=se()($.description).replace(/^(\s|<p>)+|(\s|<\/p>)+$/g,"")),P.externalDocs=$.externalDocs,P.consumes=$.consumes,P.produces=$.produces,P.deprecated=$.deprecated,P.parameters=[],null!=$.parameters)for(var j=0;j<$.parameters.length;j++)i(P.parameters,$.parameters[j],p);if(null!=$.requestBody&&null!=$.requestBody.content)if(null!=$.requestBody.content["application/json"]&&null!=$.requestBody.content["application/json"].schema){var R=$.requestBody.content["application/json"].schema;n(P.parameters,R,p)}else P.body=r($.requestBody,p);for(var T in P.responses=[],$.responses){var k=$.responses[T],C={status:T,msg:k.description||"",data:[]};if(null!=k.headers)for(var q in k.headers){var I=k.headers[q];if(null!=I.schema)for(var L in I.schema)null!=I[L]&&(I[L]=I.schema[L]);var O={in:"header"};O.type=I.type||"string",O.name=q,O.description=I.description||"",null!=I.items&&(O.items=I.items),C.data.push(O)}if(null!=k.content)if(null!=k.content["application/json"]&&null!=k.content["application/json"].schema){var N=k.content["application/json"].schema;l(C.data,N,p)}else C.schema=r(k.content,p);null!=k.schema&&l(C.data,k.schema,p),P.responses.push(C)}var V=void 0;null!=$.tags&&$.tags.length>=1&&(V=s[$.tags[0]]),null==V&&(null==s["Unnamed"]&&(s["Unnamed"]={name:"Unnamed",summary:"This group has not been named",apis:[]}),V=s["Unnamed"]),V.apis.push(P)}}for(var D in s)t.content.push(s[D]);return t.externalDocs=e.externalDocs,t}function r(e,t){var a=JSON.stringify(e),s=a.match(/"\$ref":".*?(?=")/g);if(null==s)return JSON.parse(a);for(var r=0;r<s.length;r++){var i=s[r].replace('"$ref":"',""),n=t[i];a=a.replace('"'+i+'"',JSON.stringify(n));while(-1!=a.indexOf(i))a=a.replace('"'+i+'"',JSON.stringify(n))}return JSON.parse(a)}function i(e,t,a){var s;if(s=null!=t["$ref"]?JSON.parse(JSON.stringify(a[t["$ref"]])):JSON.parse(JSON.stringify(t)),"body"!=s["in"]){if(null!=s.schema&&(null!=s.schema["$ref"]&&(s.schema=a[s.schema["$ref"]]),null!=s.schema&&(null!=s.schema.type&&null==s.type&&(s.type=s.schema.type),null!=s.schema.format&&null==s.format&&(s.format=s.schema.format),null!=s.schema.description&&null==s.description&&(s.description=s.schema.description),null!=s.schema["default"]&&null==s["default"]&&(s["default"]=s.schema["default"]),null!=s.schema.maximum&&null==s.maximum&&(s.maximum=s.schema.maximum),null!=s.schema.minimum&&null==s.minimum&&(s.minimum=s.schema.minimum),null!=s.schema.maxLength&&null==s.maxLength&&(s.maxLength=s.schema.maxLength),null!=s.schema.pattern&&null==s.pattern&&(s.pattern=s.schema.pattern),null!=s.schema["enum"]&&null==s["enum"]&&(s["enum"]=s.schema["enum"]),null!=s.schema.required&&null==s.required&&(s.required=s.schema.required))),null!=s["default"]&&(s.def=s["default"]),null!=s["enum"]&&(s.enums=s["enum"]),s.type=c(s)||"",null!=s.description&&(s.description=se()(s.description).replace(/^(\s|<p>)+|(\s|<\/p>)+$/g,"")),"array"==s.type&&null!=s.items){var i=r(s.items,a);null==s.description?s.description="":s.description+="<br>",s.description+="schema: "+JSON.stringify(i)}null!=s.properties&&(s.items=[],o(s.items,s.properties,s.required,a)),null!=s.schema&&null!=s.schema.properties&&(s.items=[],o(s.items,s.schema.properties,s.schema.required,a)),"formData"==s["in"]&&(s["in"]="body"),e.push(s)}else n(e,s,a)}function n(e,t,a){var s;if(null!=t.schema&&null!=t["$ref"]){var r=a[t["$ref"]];if(null==r)return t["in"]="body",null!=t["default"]&&(t.def=t["default"]),null!=t["enum"]&&(t.enums=t["enum"]),t.type=c(t)||"",void e.push(t);s=JSON.parse(JSON.stringify(r))}else s=JSON.parse(JSON.stringify(t));var i=[];null!=s.properties&&o(i,s.properties,s.required,a);for(var n=0;n<i.length;n++){var l=i[n];l["in"]="body",null!=l["default"]&&(l.def=l["default"]),null!=l["enum"]&&(l.enums=l["enum"]),l.type=c(l)||"",e.push(l)}}function o(e,t,a,s){for(var r in s&&console.log(),t){var i=null;if(i=t[r],null!=i["$ref"]&&(i=i["$ref"],null!=i.properties))for(var n in i.items=[],i.properties){var o=i.properties[n],l={name:n};l.type=c(o)||"",l.description=o.description,i.items.push(l)}if(i.name=r,null!=a&&a.includes(r)?i.required=!0:i.required=!1,i.type=c(i),null!=i.description&&(i.description=se()(i.description).replace(/^(\s|<p>)+|(\s|<\/p>)+$/g,"")),"array"==i.type&&null!=i.items){var p="schema: "+JSON.stringify(i.items);null==i.description?i.description=p:i.description!=p&&(i.description=i.description+"<br>"+p)}e.push(i)}}function l(e,t,a){var s=0;if(null!=t["$ref"]&&(t=a[t["$ref"]]),"array"==t.type&&null!=t.items&&(null!=t.items["$ref"]?(t=t.items["$ref"],null==t.properties&&null==t.additionalProperties||s++):t=t.items),null!=t["$ref"]&&(t=a[t["$ref"]]),"array"==t.type&&null!=t.items&&(null!=t.items["$ref"]?(t=t.items["$ref"],null==t.properties&&null==t.additionalProperties||s++):t=t.items),null!=t.properties){for(var r in t.properties){var i={in:"body"};i.type=c(t.properties[r])||"string",i.name=r;var n=t.properties[r].description||"";null!=n&&(i.description=se()(n).replace(/^(\s|<p>)+|(\s|<\/p>)+$/g,"")),e.push(i)}s++}if(null!=t.additionalProperties){for(var o in t.additionalProperties){var l={in:"body"};l.type=c(t.additionalProperties[o])||"string",l.name=o;var p=t.additionalProperties[o].description||"";null!=p&&(l.description=se()(p).replace(/^(\s|<p>)+|(\s|<\/p>)+$/g,"")),e.push(l)}s++}0==s&&(e.schema=t)}function c(e){if(null!=e.type){if("integer"==e.type&&"int64"==e.format)return"long";if("integer"==e.type)return"int";if("number"==e.type&&"float"==e.format)return"float";if("number"==e.type&&"double"==e.format)return"double"}return e.type}var p=e.openapi,u=e.swagger;return null!=p&&p.startsWith("3.")?t(e):null!=u&&u.startsWith("2.")?a(e):null},ie=(a("d3b7"),a("5530")),ne=a("a925"),oe=a("a78e"),le=a.n(oe),ce=a("b2d6"),pe=a.n(ce),ue=a("f0d9"),de=a.n(ue),me={Login:"Login",LoginTimeout:"Login timeout",Tips:"Tips",FileUrl:"Document URL,Proxy add P: Example P:https://xxx.xxx/xx",RequestLoad:"Request load",LocalFile:"Local file",RequestTest:"Request test",SelectOrAdd:"Please select or add",Project:"Project",ProjectNotLoaded:"Project not loaded",NoApi:"No API",LoadingApiGroups:"Loading API groups...",Description:"Description",Servers:"Servers",UseThisServer:"Using this server",AddTemporaryServer:"Add temporary server",AdditionalDocument:"Additional document",Ccontacts:"Contacts",CcontactsInfo:"Contacts info",Datetime:"DateTime",ParameterVariable:"Variables",ParameterVariableTips:"The variables are automatically populated into the API request parameters",Operation:"Operation",Clear:"Clear",Item:"Item",Add:"Add",Save:"Save",Remove:"Remove",RemoveTips:"Are you sure you want to remove it?",Confirm:"Confirm",Cancel:"Cancel",Completed:"Operation completed",TheTrue:"true",TheFalse:"false",GroupName:"Group name",GroupSummary:"Group smmary",GroupDescription:"Group description",ApiDeprecated:"This API is deprecated",ApiMethod:"Method",RequestURL:"Request URL",InputHostAndPath:"Please enter host and path",InputRequestURL:"Please enter URL, example http://127.0.0.1/path/{id}",Choose:"Choose",RequestBody:'The body of the request, defining the format or footprint or schema,For example, the request format should be: {ID ": {ID}," name ":" username "}, and {ID} will automatically fill in the body parameter when the variable is requested',RequestParams:"Request params",NotNeed:"Not need",RequestType:"Request Type",RequestParamsEmpty:"No request parameters are required",Level:"Level",ParamsRequired:"Must",ParamsJoin:"Join",ParamsPosition:"Position",ParamsType:"Type",ParamsName:"Name",InputParamsName:"Please enter parameter name",ParamsValue:"Value",InputParamsValue:"Please enter parameter value",ParamsDescription:"Description",ParamsContains:"Contains",AddRequestParams:"Add request parameter",ResponseStatusCode:"Response status code",ResponseResult:"Response result",UseProxy:"Use proxy",Executing:"Executing...",Execute:"Execute",BeautifyData:"Beautify data",OriginalData:"Original data",HeaderInfo:"Headers",RequestHeader:"Request Headers",ResponseHeader:"Response Headers",Defaults:"Default: ",Enums:"Enum: ",Min:"Min: ",Max:"Max: ",MinLength:"Min length: ",MaxLength:"Max length: ",Pattern:"Pattern: ",RequestFailed:"Request Failed",loadProjectListSucceeded:"Loading project list succeeded",LoadFailed:"Load failed",LoadFailedTips:"Failed to load project, more information can be found in browser console",LoadFailedDocumentIsInvalid:"Load failed. The document is invalid or unrecognized!",RequestProxyFailed:"Request Failed",RequestProxyFailedTips:"Proxy request project failed, more information can be found in browser console",LoadSucceeded:"Project loaded successful",CopySucceeded:"Copy successful",UrlCannotBeEmpty:"URL cannot be empty",ResponseHeaderTips:"The header customized by the agent may not be displayed. You can open the browser console to view the header returned by the server",EnterViewPassword:"Please enter the password to view",ViewPasswordPattern:"The password should be greater than 4 words",ViewPasswordIncorrect:"View password is incorrect or invalid, please re-enter",MoreInfoTips:"See browser console for more information",ResultStatus0:"Unknown error",ResultStatus200:"Succeeded",ResultStatus202:"The operation is complete, but you need to check whether it is successful",ResultStatus401:"Login timeout, please login again",ResultStatus402:"Login failed, invalid account or password",ResultStatus403:"Illegal operation or no permission,if you have the permission, please login again",ResultStatus404:"The resource does not exist",ResultStatus412:"Please fill in all required parameters",ResultStatus500:"Failed",ResultStatus555:"Failed. Please try again later. Please check the console for more information"},he={Login:"登录",LoginTimeout:"登录超时",Tips:"提示",FileUrl:"文档的URL,代理请求可加上P: 示例:P:https://xxx.xxx/xx",RequestLoad:"请求加载",LocalFile:"本地加载",RequestTest:"请求测试",SelectOrAdd:"请选择或新增",Project:"项目",ProjectNotLoaded:"尚未加载项目",NoApi:"尚无API",LoadingApiGroups:"正在加载API分组...",Description:"描述",Servers:"主机服务集",UseThisServer:"使用该主机服务",AddTemporaryServer:"添加临时主机服务",AdditionalDocument:"附加文档",Contacts:"联系人",ContactsInfo:"联系人信息",Datetime:"时间",ParameterVariable:"参数变量",ParameterVariableTips:"定义的参数变量将自动填充到API请求参数中",Operation:"操作",Clear:"清除",Item:"项",Add:"添加",Save:"保存",Remove:"移除",RemoveTips:"确定移除吗?",Confirm:"确定",Cancel:"取消",Completed:"操作成功!",TheTrue:"是",TheFalse:"否",GroupName:"分组名称",GroupSummary:"分组简介",GroupDescription:"分组说明",ApiDeprecated:"该接口已过时!!!",ApiMethod:"请求方法",RequestURL:"请求URL",InputHostAndPath:"请输入host与path",InputRequestURL:"请输入URL,示例http://127.0.0.1/path/{id}",Choose:"请选择",RequestBody:'请求的body,定义格式或占位或schema,比如请求格式要求为:{"id":{id},"name":"userName"},{id}代表变量请求时会自动填充body参数',RequestParams:"请求参数",NotNeed:"不需要",RequestType:"请求类型",RequestParamsEmpty:"无需请求参数",Level:"层级",ParamsRequired:"必填",ParamsJoin:"加入",ParamsPosition:"参数位置",ParamsType:"参数类型",ParamsName:"参数名称",InputParamsName:"请输入参数名称",ParamsValue:"参数值",InputParamsValue:"请输入参数值",ParamsDescription:"参数描述",ParamsContains:"参数说明",AddRequestParams:"添加请求参数",ResponseStatusCode:"返回结果－状态码",ResponseResult:"响应结果",UseProxy:"使用代理",Executing:"请求中...",Execute:"执行请求",BeautifyData:"美化数据",OriginalData:"原始数据",HeaderInfo:"header信息",RequestHeader:"请求头信息",ResponseHeader:"响应头信息",Defaults:"默认值: ",Enums:"枚举值: ",Min:"最小: ",Max:"最大: ",MinLength:"最小长度: ",MaxLength:"最大长度: ",Pattern:"正则表达式: ",RequestFailed:"请求失败",LoadProjectListSucceeded:"加载项目列表成功!",LoadFailed:"加载失败",LoadFailedTips:"加载项目信息失败,更多信息请查看控制台",LoadFailedDocumentIsInvalid:"加载失败,该文档无效或无法识别!",RequestProxyFailed:"代理请求失败",RequestProxyFailedTips:"代理请求项目信息失败,更多信息请查看控制台",LoadSucceeded:"项目加载成功!",CopySucceeded:"复制成功!",UrlCannotBeEmpty:"URL 不能为空!",ResponseHeaderTips:"使用代理自定义的header可能不显示,你可以打开控制台查看服务器返回的header",EnterViewPassword:"请输入查看密码",ViewPasswordPattern:"密码需要大于4位数",ViewPasswordIncorrect:"查看密码错误或查看密码无效,请重新输入",MoreInfoTips:"更多信息请查看浏览器控制台!",ResultStatus0:"未知错误",ResultStatus200:"成功",ResultStatus202:"操作完成,但需要你检查是否成功",ResultStatus401:"登录超时,请重新登录",ResultStatus402:"登录失败,账号或密码错误",ResultStatus403:"非法操作或者没有权限,如果你有该权限请重新登录",ResultStatus404:"资源不存在",ResultStatus412:"请按要求填写所有必填项!",ResultStatus500:"失败",ResultStatus555:"失败,请稍后重试,更多信息请查看控制台"};s["default"].use(ne["a"]);var ve={en:Object(ie["a"])(Object(ie["a"])({},me),pe.a),zh:Object(ie["a"])(Object(ie["a"])({},he),de.a)};function fe(){var e=le.a.get("language");if(e)return e;for(var t=(navigator.language||navigator.browserLanguage).toLowerCase(),a=Object.keys(ve),s=0,r=a;s<r.length;s++){var i=r[s];if(t.indexOf(i)>-1)return i}return"zh"}var ge=new ne["a"]({locale:fe(),messages:ve}),ye=ge,be=a("5c96"),xe=a.n(be),we="LS_KEY_SESSION_TOKEN",Se=O.a.create({baseURL:"",timeout:3e4});Se.interceptors.response.use((function(e){var t=e.data.code;return null==t||200==t?e:202==t?(be["Message"].success(ye.t("ResultStatus202")),e):401==t?(be["MessageBox"].confirm(ye.t("ResultStatus401"),ye.t("LoginTimeout"),{confirmButtonText:ye.t("Login"),type:"warning"}).then((function(){location.href="/console/index.html#/login"})).catch((function(e){window.console.log(e),localStorage.removeItem(we)})),e):403==t?(be["MessageBox"].confirm(ye.t("ResultStatus403"),ye.t("Tips"),{confirmButtonText:ye.t("Login"),type:"warning"}).then((function(){location.href="/console/index.html#/login"})),e):404==t?(be["Message"].error(ye.t("ResultStatus404")),e):405==t?e:412==t?(be["Message"].warning(ye.t("ResultStatus412")),e):555==t?(be["Message"].error(ye.t("ResultStatus555")),e):(be["Message"].error(ye.t("ResultStatus0")),e)}),(function(e){return console.log(e),Promise.reject(e)}));var _e=Se;function Pe(e,t,a,s){_e.get("/private/json/"+e,{headers:{"x-session":t}}).then(a).catch(s)}function $e(e,t,a,s){_e.get("/project/share",{params:{sid:e,pwd:t}}).then(a).catch(s)}var je="",Re="LS_KEY_SESSION_TOKEN",Te="LS_SHARE_KEY",ke="SS_SELECT_GA_KEY",Ce="PROJECT",qe={name:"App",components:{OamTree:y,OamProjectView:P,OamGroupView:C,OamRequestTestView:J,OamApiView:ee},data:function(){return{sessionToken:"",asideCollapse:!0,isNotShareMode:!0,fileUrl:"",fileUrlLoading:!1,mainShowMode:Ce,project:{isload:!1,projectId:"",name:"",versions:"",description:"",lastTime:"",contactName:"",contactInfo:"",externalDocs:{description:"",url:""},selectServer:"",servers:[],parameterVariables:[]},groupApiDataStore:{},groupsIsLoading:!1,groups:[],selectApiId:"id-12",selectGroup:{name:null,summary:null,description:null,externalDocs:{}},selectApi:{selectServer:null,servers:[],title:null,method:"get",path:null,description:null,deprecated:!1,consumes:[],requestType:"",parameters:[],body:null,produces:[],responses:[],additional:[],externalDocs:{},extensions:{},proxy:!1,responseTags:"format",requestHenders:{},responseHeaders:{},response:{},isSxecute:!1,executing:!1}}},created:function(){var e=this,t=te("id",window.location.search),a=te("sid",window.location.search),s=te("fileUrl",window.location.search),r=te("token",window.location.search);if(null!=r){this.sessionToken=r,localStorage.setItem(Re,r);var i=window.location.href.replace("token="+r,"");window.history.pushState({},0,i)}else this.sessionToken=localStorage.getItem(Re)||"";null!=t&&""!=t?(this.project.projectId=t,this.getProject(t)):null!=a&&""!=a?(this.initProjectShare(a),this.isNotShareMode=!1):null!=s&&""!=s&&(this.fileUrl=s,this.getProjectFromUrl()),this.asideCollapse=document.body.offsetWidth>768,window.onresize=function(){e.asideCollapse=document.body.offsetWidth>768}},methods:{switchToProjectView:function(){this.mainShowMode=Ce,this.selectApiId="",sessionStorage.removeItem(ke+this.project.projectId)},switchToRequestView:function(){this.mainShowMode="REQUEST_TEST",this.selectApiId="",sessionStorage.removeItem(ke+this.project.projectId)},initProjectShare:function(e,t){var a,s=this,r=localStorage.getItem(Te+e);null!=r&&""!=r?this.getProjectShare(e,r):(a=1==t?this.$t("ViewPasswordIncorrect"):this.$t("EnterViewPassword"),this.$prompt(a,this.$t("Tips"),{confirmButtonText:this.$t("Confirm"),cancelButtonText:this.$t("Cancel"),inputPattern:/^.{4,}$/,inputErrorMessage:this.$t("ViewPasswordPattern")}).then((function(t){var a=t.value;s.getProjectShare(e,a)})).catch((function(){})))},getProjectShare:function(e,t){var a=this;$e(e,t,(function(s){var r=s.data;console.log("Loading project share ..."),console.log(r),200===r.code?(localStorage.setItem(Te+e,t),a.loadDocument(JSON.parse(r.data))):405===r.code&&(localStorage.removeItem(Te+e),a.$message.error(a.$t("ViewPasswordIncorrect")),a.initProjectShare(e,1))}),(function(e){console.log("Loading project list failed:"),console.log(e)}))},getProject:function(e){var t=this;null!=e&&""!=e&&Pe(e,this.sessionToken,(function(e){var a=e.data;null!=a.code&&200!=a.code||t.loadDocument(a)}),(function(e){t.$notify.error({title:t.$t("LoadFailed"),message:t.$t("LoadFailedTips"),position:"bottom-right"}),console.log(e)}))},getProjectFromUrl:function(){var e=this;if(""!==this.fileUrl.trim()){this.fileUrlLoading=!0;var t=this.fileUrl;"P"==t.charAt(0)&&":"==t.charAt(1)?(t=t.substring(2),O.a.get(je+"/proxy/project?url="+t+"&token="+this.sessionToken).then((function(t){e.fileUrlLoading=!1,200==t.data.code?e.loadDocument(JSON.parse(t.data.data)):403==t.data.code?e.$notify.error({title:e.$t("RequestProxyFailed"),message:e.$t("ResultStatus403"),position:"bottom-right"}):(e.$notify.error({title:e.$t("RequestProxyFailed"),message:e.$t("RequestProxyFailedTips"),position:"bottom-right"}),console.log(t))})).catch((function(t){e.fileUrlLoading=!1,e.$notify.error({title:e.$t("RequestProxyFailed"),message:e.$t("RequestProxyFailedTips"),position:"bottom-right"}),console.log(t)}))):O.a.get(this.fileUrl).then((function(t){e.fileUrlLoading=!1;var a=t.data;e.loadDocument(a)})).catch((function(t){e.fileUrlLoading=!1,e.$notify.error({title:e.$t("LoadFailed"),message:e.$t("LoadFailedTips"),position:"bottom-right"}),console.log(t)}))}},getProjectFromFile:function(){var e=this,t=new FileReader,a=this.$refs.readFile.files[0];t.readAsText(a),t.onload=function(t){try{e.loadDocument(JSON.parse(t.target.result))}catch(a){e.$notify.error({title:e.$t("LoadFailed"),message:e.$t("LoadFailedTips"),position:"bottom-right"}),console.log(a)}}},loadDocument:function(e){if(null!=e){var t=e.openapi,a=e.swagger;try{if(null!=t&&t.startsWith("3.")){var s=re(e);if(null==s)return void this.$message.error(this.$t("loadFailedDocumentIsInvalid"));console.log("load Open API Project:"),this.loadProject(s)}else if(null!=a&&a.startsWith("2.")){var r=re(e);if(null==r)return void this.$message.error(this.$t("loadFailedDocumentIsInvalid"));console.log("load Swagger Project:"),this.loadProject(r)}else console.log("load Orion Project:"),this.loadProject(e)}catch(i){this.projectLoading=!1,this.$message.error(this.$t("LoadFailedTips")),console.log(i)}}},loadProject:function(e){if(console.log(e),null!=e&&""!=e&&"{}"!=JSON.stringify(e)){if(this.project={},null!=localStorage.getItem(e.key)&&""!=localStorage.getItem(e.key))try{this.project.parameterVariables=JSON.parse(localStorage.getItem(e.key))}catch(n){console.log("init Parameter variables failed:"),console.log(n)}else this.project.parameterVariables=[];if(document.title=e.name,this.project.isload=!0,this.project.key=e.key,this.project.projectId=e.key,this.project.name=e.name,this.project.versions=e.versions,this.project.description=e.description,null!=e.servers&&""!=e.servers||null==e.schemes||""==e.schemes)this.project.servers=e.servers;else{this.project.schemes=e.schemes;for(var t=[],a=0;a<e.schemes.length;a++){var s=e.schemes[a],r=null==e.basePath?"":e.basePath,i={url:s+"://"+e.host+r,description:""};t.push(i)}this.project.servers=t}null!=this.project.servers||null!=e.content?(null!=this.project.servers&&this.project.servers.length>0&&(this.project.selectServer=this.project.servers[0].url),this.project.contactName=e.contactName,this.project.contactInfo=e.contactInfo,this.project.externalDocs=e.externalDocs,this.project.lastTime=e.lastTime,this.$notify({title:this.$t("Tips"),message:this.$t("LoadSucceeded"),type:"success",position:"bottom-right",duration:3e3}),this.mainShowMode=Ce,this.loadGroupsAndApi(e.content),this.updateProjectViewData()):this.$notify({title:this.$t("Tips"),message:this.$t("ToadFailedDocumentIsInvalid"),type:"error",position:"bottom-right",duration:6e3})}},updateProjectViewData:function(){this.$refs.projectView.updateData(this.project)},projectSelectServer:function(e){this.project.selectServer=e,this.updateProjectViewData()},projectAddCustomServer:function(e){""!=e&&(this.project.servers.push({url:e,description:""}),this.project.selectServer=e,this.updateProjectViewData())},projectAddParamterVariable:function(){this.project.parameterVariables.push({in:"query",name:"",value:""}),this.updateProjectViewData()},projectRemoveParamterVariable:function(e){var t=this;null!=e&&this.$confirm(this.$t("RemoveTips"),this.$t("Tips"),{confirmButtonText:this.$t("Confirm"),cancelButtonText:this.$t("Cancel"),type:"warning"}).then((function(){t.project.parameterVariables.splice(e,1),t.projectSaveParamterVariable()})).catch((function(){}))},projectSaveParamterVariable:function(){if(null!=this.project.projectId&&""!=this.project.projectId){for(var e=[],t=0;t<this.project.parameterVariables.length;t++){var a=this.project.parameterVariables[t];""!=a.name&&""!=a.value&&e.push(a)}localStorage.setItem(this.project.projectId,JSON.stringify(e)),this.$message.success(this.$t("Completed")),this.updateProjectViewData()}},loadGroupsAndApi:function(e){if(this.groups=[],this.groupApiDataStore={},this.groupsIsLoading=!0,null==e||0==e.length)return console.log("group is empty!"),void(this.groupsIsLoading=!1);for(var t=0;t<e.length;t++){var a=e[t].groupId||"group_key_"+t,s=[],r=e[t].apis;if(null!=r)for(var i=0;i<r.length;i++){var n=r[i],o=n.apiId||"api_key_"+t+"_"+i;s.push({id:o,title:n.title}),this.groupApiDataStore[o]={type:1,loaded:0,data:n}}this.groupApiDataStore[a]={type:0,loaded:1,data:e[t]},this.groups.push({id:a,title:e[t].name,show:!0,apis:s})}this.groupsIsLoading=!1;var l=sessionStorage.getItem(ke+this.project.projectId);null!=l&&""!=l&&this.apiSelectHandler(l)},apiSelectHandler:function(e){if(this.selectApiId=e,""!=this.selectApiId){var t=this.groupApiDataStore[e];if(console.log("select data:",t),0==t.type)this.mainShowMode="GROUP",this.selectGroup={},this.selectGroup=t.data;else{this.mainShowMode="API";var a=t.data;if(1==t.loaded)this.selectApi=a;else{var s={};if(null!=this.project.parameterVariables)for(var r=0;r<this.project.parameterVariables.length;r++){var i=this.project.parameterVariables[r];s[i.in+"-"+i.name]=i.value,"path"==i.in&&(t.path=t.path.replace("{"+i.name+"}",i.value),t.path=t.path.replace("/:"+i.name,"/"+i.value))}null!=a.consumes&&a.consumes.length>0&&(a.requestType=a.consumes[0]);var n=this.$t("Defaults"),o=this.$t("Enums"),l=this.$t("Min"),c=this.$t("Max"),p=this.$t("MinLength"),u=this.$t("MaxLength"),d=this.$t("Pattern");if(null!=a.parameters)for(var m=0;m<a.parameters.length;m++){var h=a.parameters[m];this.recursionApiParamDataCreateId(h),h.join=1==h.required||"true"==h.required;var v=s[h.in+"-"+h.name],f="";null!=h.default&&""!=h.default&&(v=h.default,f+=n+h.default+"　"),null!=h.def&&""!=h.def&&(v=h.def,f+=n+h.def+"　"),null!=h.value&&""!=h.value||this.$set(h,"value",v),null!=h.enum&&""!=h.enum&&(f+=o+h.enum+"　"),null!=h.explain&&""!=h.explain&&(null!=h.explain.min&&""!=h.explain.min&&(f+=l+h.explain.min+"　"),null!=h.explain.max&&""!=h.explain.max&&(f+=c+h.explain.max+"　"),null!=h.explain.items&&""!=h.explain.items&&(h.items=h.explain.items)),null!=h.pattern&&""!=h.pattern&&(f+=d+h.pattern+"　"),null!=h.enums&&""!=h.enums&&(f+=o+h.enums+"　"),null!=h.minLength&&""!=h.minLength&&(f+=p+h.minLength+"　"),null!=h.maxLength&&""!=h.maxLength&&(f+=u+h.maxLength+"　"),null!=h.minimum&&""!=h.minimum&&(f+=l+h.minimum+"　"),null!=h.maximum&&""!=h.maximum&&(f+=c+h.maximum+"　"),null!=h.minValue&&""!=h.minValue&&(f+=l+h.minValue+"　"),null!=h.maxValue&&""!=h.maxValue&&(f+=c+h.maxValue+"　"),null!=h.regex&&""!=h.regex&&(f+=d+h.regex+"　"),""!=f&&(h.contains=f)}else a.parameters=[];null!=a.responses&&a.responses.length>0&&(null==a.responses[0].status||null==a.responses[0].data)&&(a.responses=[{status:200,data:t.responses}]),null==a.responses&&(a.responses=[]);for(var g=0;g<a.responses.length;g++){var y=a.responses[g].data;null==y&&(y=[]);for(var b=0;b<y.length;b++)this.recursionApiParamDataCreateId(y[b])}a.executing=!1,null==a.selectServer&&(a.selectServer=this.project.selectServer),null==a.proxy&&(a.proxy=!1),null==a.responseTags&&(a.responseTags="format"),null==a.requestHenders&&(a.requestHenders={}),null==a.responseHeaders&&(a.responseHeaders={}),null==a.response&&(a.response={}),a.servers=this.project.servers,t.loaded=1,this.selectApi=a}sessionStorage.setItem(ke+this.project.projectId,this.selectApiId)}}},recursionApiParamDataCreateId:function(e,t){if(t=parseInt(t),(isNaN(t)||t<0)&&(t=1),e.tableRowkey=Math.random(),e.level=t,null==e.items)return e;for(var a=0;a<e.items.length;a++)this.recursionApiParamDataCreateId(e.items[a],t+1)}}},Ie=qe,Le=(a("034f"),Object(d["a"])(Ie,r,i,!1,null,null,null)),Oe=Le.exports;a("0fae");s["default"].config.productionTip=!1,s["default"].use(xe.a,{i18n:function(e,t){return ye.t(e,t)}}),new s["default"]({el:"#app",i18n:ye,render:function(e){return e(Oe)}})},"69a3":function(e,t,a){},"85ec":function(e,t,a){},8803:function(e,t,a){"use strict";a("69a3")},ed89:function(e,t,a){"use strict";a("4552")},efca:function(e,t,a){}});
//# sourceMappingURL=app.b626bd29.js.map